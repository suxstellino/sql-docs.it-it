---
title: Valutazione della vulnerabilità SQL | Microsoft Docs
description: Usare lo strumento per la valutazione della vulnerabilità di SQL per individuare, monitorare e risolvere potenziali vulnerabilità del database in SQL Server.
ms.custom: ''
ms.date: 11/30/2017
ms.prod: sql
ms.prod_service: security, sql-database
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- SQL Vulnerability Assessment
author: yualan
ms.author: alayu
monikerRange: =azuresqldb-current||>=sql-server-2016||>=sql-server-linux-2017||=azuresqldb-mi-current
ms.openlocfilehash: b26b7fc306d9eafd1cd9a7c6a9992303e74bc550
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 12/14/2020
ms.locfileid: "97468532"
---
# <a name="sql-vulnerability-assessment"></a>Valutazione della vulnerabilità SQL

[!INCLUDE [SQL Server Azure SQL Database](../../includes/applies-to-version/sql-asdb.md)]

Valutazione delle vulnerabilità di SQL è uno strumento di facile utilizzo che consente di individuare, monitorare e risolvere potenziali vulnerabilità dei database. È consigliabile usarlo in modo proattivo per migliorare la sicurezza dei database.

Il servizio di valutazione della vulnerabilità è **supportato in SQL Server 2012 e versioni successive** e può essere eseguito anche nel [database SQL di Azure](/azure/sql-database/sql-vulnerability-assessment).

## <a name="vulnerability-assessment-features"></a>Funzionalità del servizio di valutazione della vulnerabilità
Il servizio di valutazione della vulnerabilità SQL consente di visualizzare lo stato di sicurezza e include azioni applicabili per risolvere i problemi di sicurezza e migliorare la sicurezza dei database. Può essere utile per:
- Soddisfare i requisiti di conformità che richiedono report di analisi dei database. 
- Soddisfare gli standard per la privacy dei dati.
- Monitorare un ambiente di database dinamico in cui è difficile tenere traccia delle modifiche.

Il servizio di valutazione della vulnerabilità esegue un'analisi direttamente sul database. Il servizio usa una Knowledge Base di regole per contrassegnare le vulnerabilità di sicurezza ed evidenziare le deviazioni rispetto alle procedure consigliate, ad esempio errori di configurazione, autorizzazioni eccessive e dati sensibili non protetti. Le regole si basano sulle procedure consigliate da Microsoft e si focalizzano sui problemi di sicurezza che presentano i maggiori rischi per il database e i dati importanti che contiene. Queste regole rappresentano anche molti dei requisiti specificati da vari organismi normativi per soddisfare i relativi standard di conformità.

I risultati dell'analisi includono le azioni applicabili per risolvere ogni problema, oltre a script di correzione personalizzati, ove applicabile. I report di valutazione possono essere personalizzati per ogni ambiente impostando una baseline accettabile per le configurazioni delle autorizzazioni, le configurazioni delle funzionalità e le impostazioni del database. 

## <a name="prerequisites"></a>Prerequisiti
Questa funzionalità è disponibile solo in SQL Server Management Studio (SSMS) versione 17.4 o versioni successive. Verificare che sia in uso la versione più recente. La versione più recente è disponibile [qui](../../ssms/download-sql-server-management-studio-ssms.md).

## <a name="getting-started"></a>Introduzione
Per iniziare con l'esecuzione di una valutazione della vulnerabilità sul database, seguire questa procedura:
   1.   Aprire **SQL Server Management Studio**.

   2.   Connettersi a un'istanza del motore di database di SQL Server o a localhost.

   3.   Espandere **Database**, fare clic con il pulsante destro del mouse su un database, scegliere **Attività**, selezionare **Valutazione della vulnerabilità** e quindi fare clic su **Cerca vulnerabilità...** .

   4.   È possibile eseguire un'analisi per il controllo della presenza di problemi a livello di server eseguendo l'analisi di uno dei database di sistema. Espandere **Database di sistema**, fare clic con il pulsante destro del mouse sul database **master**, scegliere **Attività**, selezionare **Valutazione della vulnerabilità** e quindi fare clic su **Cerca vulnerabilità...** .

   ![iniziare](media/sql-vulnerability-assessment/1-SSMSGetStarted.png)

## <a name="tutorial"></a>Esercitazione
Usare questa procedura per eseguire e gestire valutazioni delle vulnerabilità nei database.

### <a name="1-run-a-scan"></a>1. Eseguire un'analisi

La finestra di dialogo Cerca vulnerabilità consente di specificare la posizione in cui salvare le analisi. È possibile mantenere la posizione predefinita o fare clic su **Sfoglia...** per salvare i risultati dell'analisi in una posizione diversa.

Quando si è pronti per eseguire l'analisi, fare clic su **OK** per eseguire una ricerca delle vulnerabilità nel database.

  > [!NOTE]   
  > L'analisi è un'operazione leggera e sicura, che richiede pochi secondi ed è interamente di sola lettura, ovvero non apporta alcuna modifica nel database.

![salvare il file di analisi](media/sql-vulnerability-assessment/2-ssmssavescanfile.png)

### <a name="2-view-the-report"></a>2. Visualizzare il report

Dopo il completamento dell'analisi, il report di analisi viene visualizzato automaticamente nel riquadro principale di SQL Server Management Studio. Il report offre una panoramica dello stato di sicurezza, il numero di problemi trovati e i rispettivi livelli di gravità. I risultati includono avvisi sulle deviazioni dalle procedure consigliate, oltre a uno snapshot delle impostazioni relative alla sicurezza, ad esempio le entità e i ruoli del database e le relative autorizzazioni. Il report di analisi include anche una mappa dei dati sensibili individuati nel database, con consigli per i metodi predefiniti disponibili per la protezione di tali dati.

![risultati dell'analisi](media/sql-vulnerability-assessment/3-ssmsscanresults.png)

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. Analizzare i risultati e risolvere i problemi

Esaminare i risultati e stabilire quali risultati nel report sono veri problemi di sicurezza nell'ambiente in uso. Eseguire il drill-down di ogni risultato che rappresenta un problema per capirne l'impatto e scoprire i motivi di ogni esito negativo dei controlli di sicurezza. Usare le informazioni sulle azioni di correzione applicabili incluse nel report per risolvere il problema.

![dettagli dei risultati](media/sql-vulnerability-assessment/4-ssmsresultdetails.png)

### <a name="4-set-your-baseline"></a>4. Impostare la baseline

Quando si esaminano i risultati della valutazione, è possibile contrassegnare risultati specifici come **baseline** accettabile nel proprio ambiente. La baseline è essenzialmente una personalizzazione della modalità di visualizzazione dei risultati. I risultati corrispondenti alla baseline non vengono considerati problemi nelle analisi successive. 

Dopo aver stabilito lo stato di sicurezza di base, la valutazione della vulnerabilità segnala solo le deviazioni dalla baseline ed è possibile concentrare l'attenzione sui problemi rilevanti.

![impostare la baseline](media/sql-vulnerability-assessment/5-ssmssetbaseline.png)

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Eseguire una nuova analisi per visualizzare il report di rilevamento personalizzato

Dopo aver completato l'impostazione delle **baseline della regola**, eseguire una nuova analisi per visualizzare il report personalizzato. Vengono ora segnalati solo i problemi di sicurezza che rappresentano una deviazione dallo stato di base approvato.

![controlli superati per ogni baseline](media/sql-vulnerability-assessment/6-ssmspassperbaseline.png)

### <a name="6-open-a-previously-run-scan"></a>6. Aprire un'analisi eseguita in precedenza

È possibile visualizzare i risultati di valutazioni delle vulnerabilità eseguiti in precedenza in qualsiasi momento aprendo un'analisi esistente. A tale scopo, fare clic con il pulsante destro del mouse su un database, scegliere **Attività**, selezionare **Valutazione della vulnerabilità** e fare clic su **Apri analisi esistente...** .  Selezionare il file dei risultati di analisi che si vuole visualizzare e fare clic su **Apri**. 

È anche possibile aprire un file dei risultati di analisi esistente tramite il menu **File->Apri**. Selezionare **Valutazione della vulnerabilità...** e aprire la directory **scans** per trovare il risultato di analisi che si vuole visualizzare.

![aprire un'analisi esistente](media/sql-vulnerability-assessment/7-ssmsopenexistingscan.png)

Il servizio di valutazione della vulnerabilità può ora essere usato per il monitoraggio del livello di sicurezza dei database e assicurarsi che rimanga sempre elevato e che siano soddisfatti i criteri dell'organizzazione. Se sono richiesti report di conformità, i report di valutazione della vulnerabilità possono essere utili a supporto del processo di conformità.

## <a name="manage-vulnerability-assessments-using-powershell"></a>Gestire le valutazioni della vulnerabilità tramite PowerShell
È possibile usare cmdlet di PowerShell per gestire a livello di codice le valutazioni della vulnerabilità per i server SQL. È possibile usare cmdlet per eseguire valutazioni a livello di codice, esportare i risultati e gestire i valori di base.
Per iniziare, scaricare la versione più recente del [modulo SqlServer di PowerShell](https://www.powershellgallery.com/packages/SqlServer/) dal sito PowerShell Gallery. Per altre informazioni, fare clic [qui](/archive/blogs/sqlsecurity/powershell-cmdlets-for-managing-sql-vulnerability-assessments).

## <a name="next-steps"></a>Passaggi successivi
Nelle risorse seguenti sono disponibili altre informazioni sulla valutazione della vulnerabilità SQL:
- [Valutazione della vulnerabilità di SQL](/azure/sql-database/sql-vulnerability-assessment) 
- [Video di Channel 9 che illustra l'uso dello strumento di valutazione della vulnerabilità](https://channel9.msdn.com/Shows/Data-Exposed/Track-and-remediate-potential-database-vulnerabilities-with-SQL-Vulnerability-Assessment)


