---
description: Attenuazione di minacce e vulnerabilità (replica)
title: Attenuazione di minacce e vulnerabilità (replica) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- attacks [SQL Server replication]
- threats [SQL Server replication security]
- security [SQL Server replication], threats
- security threats [SQL Server replication]
ms.assetid: 314fe497-56d8-4192-98e9-21b87cf8db04
author: MashaMSFT
ms.author: mathoma
monikerRange: =azuresqldb-mi-current||>=sql-server-2016
ms.openlocfilehash: 35f7362bc191958005d632125cb84e8e86f8b9e6
ms.sourcegitcommit: 1a544cf4dd2720b124c3697d1e62ae7741db757c
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 12/14/2020
ms.locfileid: "97475612"
---
# <a name="threat-and-vulnerability-mitigation-replication"></a>Attenuazione di minacce e vulnerabilità (replica)
[!INCLUDE[sql-asdbmi](../../../includes/applies-to-version/sql-asdbmi.md)]
  In questo argomento vengono descritte le tecniche per ridurre le minacce per una topologia di replica.  
  
## <a name="encryption"></a>Crittografia  
 La crittografia è il processo di conversione dei dati in un formato che non può essere letto senza una chiave speciale e che pertanto consente la lettura dei dati solo al destinatario previsto. La replica non prevede la crittografia dei dati archiviati nelle tabelle o inviati tramite le connessioni di rete. La crittografia è stata volutamente esclusa poiché è disponibile a livello di trasporto in numerose tecnologie, incluse le seguenti tecnologie standard: VPN (Virtual Private Networks), TLS (Transport Layer Security), noto in precedenza come SSL (Secure Sockets Layer), e la sicurezza dell'IP (IPSec). È consigliabile utilizzare uno di questi metodi di crittografia per le connessioni tra computer in una topologia di replica. Per altre informazioni, vedere [Abilitare le connessioni crittografate al motore di database &#40;Gestione configurazione SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md). Per informazioni sull'uso di reti VPN e del protocollo TLS per la replica di dati su Internet, vedere [Protezione della replica su Internet](../../../relational-databases/replication/security/securing-replication-over-the-internet.md).  
  
 Se si usa TLS per proteggere le connessioni tra computer in una topologia di replica, specificare un valore pari a **1** o **2** per il parametro **-EncryptionLevel** di ogni agente di replica. È consigliabile usare un valore pari a **2**. Un valore pari a **1** indica che viene usata la crittografia, ma l'agente non verifica che il certificato TLS/SSL del server sia firmato da un'autorità di certificazione attendibile; un valore pari a **2** indica che il certificato viene verificato. I parametri degli agenti possono essere specificati nei profili agente e dalla riga di comando. Per altre informazioni, vedere:  
  
-   [Usare i profili agenti di replica](../../../relational-databases/replication/agents/work-with-replication-agent-profiles.md)  
  
-   [Visualizzare e modificare i parametri del prompt dei comandi dell'agente di replica &#40;SQL Server Management Studio&#41;](../../../relational-databases/replication/agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   [Replication Agent Executables Concepts](../../../relational-databases/replication/concepts/replication-agent-executables-concepts.md)  
  
 Di seguito è indicato il comportamento della replica in relazione alle chiavi master del database, utilizzate per crittografare i dati:  
  
-   Se una chiave master è presente in un database coinvolto nella replica (un database di pubblicazione, di sottoscrizione o di distribuzione), le password degli agenti vengono crittografate e decrittografate in tale database utilizzando una chiave simmetrica del database [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] . Se vengono utilizzate chiavi master, è necessario creare una chiave master in ogni database coinvolto nella replica. Per ulteriori informazioni sulla creazione di chiavi master, vedere [CREATE MASTER KEY &#40;Transact-SQL&#41;](../../../t-sql/statements/create-master-key-transact-sql.md).  
  
-   La replica delle chiavi master non è supportata. Se è necessario che la chiave master sia disponibile nel Sottoscrittore, è necessario esportarla dal database di pubblicazione utilizzando il comando BACKUP MASTER KEY, quindi importarla nel database di sottoscrizione mediante RESTORE MASTER KEY. Per altre informazioni, vedere [BACKUP MASTER KEY &#40;Transact-SQL&#41;](../../../t-sql/statements/backup-master-key-transact-sql.md) e [RESTORE MASTER KEY &#40;Transact-SQL&#41;](../../../t-sql/statements/restore-master-key-transact-sql.md).  
  
-   Se viene definita una chiave master per un database di sottoscrizione collegabile, specificare la password della chiave master mediante il parametro `@db_master_key_password` di [sp_attachsubscription &#40;Transact-SQL&#41;](../../../relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql.md). In questo modo è possibile collegare il database al Sottoscrittore.  
  
 Per ulteriori informazioni sulla crittografia e sulle chiavi master, vedere [Encryption Hierarchy](../../../relational-databases/security/encryption/encryption-hierarchy.md).  
  
 La replica consente di pubblicare dati di colonna crittografati. Per decrittografare e utilizzare tali dati nel Sottoscrittore, la chiave utilizzata per crittografare i dati nel server di pubblicazione deve essere presente anche nel Sottoscrittore. La replica non rappresenta un meccanismo protetto per il trasporto di chiavi di crittografia. La chiave di crittografia deve essere ricreata manualmente nel Sottoscrittore. Per altre informazioni. vedere [Replicare dati in colonne crittografate &#40;SQL Server Management Studio&#41;](../../../relational-databases/replication/security/replicate-data-in-encrypted-columns-sql-server-management-studio.md).  
  
## <a name="see-also"></a>Vedere anche  
 [Controllo di identità e accesso (replica)](../../../relational-databases/replication/security/identity-and-access-control-replication.md)   
 [Visualizzare e modificare le impostazioni di sicurezza della replica](../../../relational-databases/replication/security/view-and-modify-replication-security-settings.md)   

  
  
