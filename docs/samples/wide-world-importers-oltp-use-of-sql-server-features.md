---
title: Uso delle funzionalità e delle funzionalità di SQL Server | Microsoft Docs
description: Informazioni sulle funzionalità e sulle funzionalità di SQL Server e sul relativo utilizzo nel database di esempio WideWorldImporters.
ms.prod: sql
ms.prod_service: sql
ms.technology: samples
ms.custom: ''
ms.date: 01/21/2017
ms.reviewer: ''
ms.topic: conceptual
ms.assetid: 06f89721-8478-4abc-8ada-e9c73b08bf51
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6e20d90d91badcd0961ab03e219bbf6e9a8ae2c8
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 02/10/2021
ms.locfileid: "100354059"
---
# <a name="use-of-sql-server-features-and-capabilities"></a>Uso delle funzionalità e delle funzionalità di SQL Server

[!INCLUDE [SQL Server Azure SQL Database](../includes/applies-to-version/sql-asdb.md)]

WideWorldImporters utilizzo delle funzionalità e delle funzionalità di SQL Server nel database OLTP.

WideWorldImporters è progettato per illustrare molte delle principali funzionalità di SQL Server, incluse le funzionalità più recenti introdotte in SQL Server 2016. Nella tabella seguente sono elencate le funzionalità e le funzionalità di SQL Server. Ogni riga fornisce anche una descrizione del modo in cui vengono usate le funzionalità in WideWorldImporters.  
&nbsp;

|Funzionalità o funzionalità di SQL Server|Usare in WideWorldImporters|
|:-------------------------------|:------------------------|
|Tabelle temporali|Sono disponibili molte tabelle temporali, incluse tutte le tabelle di riferimento per stile di ricerca e le entità principali, ad esempio StockItems, Customers e Suppliers. L'uso di tabelle temporali consente di tenere traccia facilmente della cronologia di queste entità.|
|Chiamate AJAX per JSON|L'applicazione utilizza spesso chiamate AJAX per eseguire query su queste tabelle: persone, clienti, fornitori e StockItems. Le chiamate restituiscono i dati in formato JSON. Vedere ad esempio il stored procedure `Website.SearchForCustomers` .|
|Sacchetti proprietà/valore JSON|Alcune tabelle contengono colonne che contengono dati JSON per estendere i dati relazionali nella tabella. Ad esempio, `Application.SystemParameters` ha una colonna per le impostazioni dell'applicazione e `Application.People` ha una colonna per registrare le preferenze dell'utente. Queste tabelle usano una `nvarchar(max)` colonna per registrare i dati JSON, insieme a un vincolo check usando la funzione predefinita `ISJSON` per assicurarsi che i valori della colonna siano JSON validi.|
|Sicurezza a livello di riga|Sicurezza a livello di riga (RLS) viene usato per limitare l'accesso alla tabella Customers, in base all'appartenenza ai ruoli. Ogni territorio di vendita ha un ruolo e un utente. Per visualizzare un limite di accesso a RLS, usare lo script corrispondente in sample-script.zip, che fa parte della [versione dell'esempio](https://go.microsoft.com/fwlink/?LinkID=800630).|
|Analisi operativa in tempo reale|(Versione completa del database) Le tabelle transazionali di base `Sales.InvoiceLines` e `Sales.OrderLines` entrambe dispongono di un indice columnstore non cluster per supportare l'esecuzione efficiente di query analitiche nel database transazionale con un minimo effetto sul carico di lavoro operativo. L'esecuzione di transazioni e analisi nello stesso database è detta anche [elaborazione ibrida transazionale/analitica (HTAP)](https://wikipedia.org/wiki/Hybrid_Transactional/Analytical_Processing_(HTAP)). Per verificarne il funzionamento, usare lo script corrispondente in sample-script.zip, che fa parte della [versione dell'esempio](https://go.microsoft.com/fwlink/?LinkID=800630).|
|PolyBase|Per visualizzare questa polibase in azione, usando una tabella esterna con un set di dati pubblico ospitato nell'archiviazione BLOB di Azure, usare lo script corrispondente in sample-script.zip, che fa parte della [versione dell'esempio](https://go.microsoft.com/fwlink/?LinkID=800630).|
|OLTP in memoria|(Versione completa del database) I tipi di tabella sono ottimizzati per la memoria, in modo che i parametri con valori di tabella (TVP) possano trarre vantaggio dall'ottimizzazione per la memoria.<br/><br/>Le due tabelle di monitoraggio, `Warehouse.VehicleTemperatures` e `Warehouse.ColdRoomTemperatures` , sono ottimizzate per la memoria. L'ottimizzazione per la memoria consente di popolare la tabella ColdRoomTemperatures a una velocità più elevata rispetto a una tabella tradizionale basata su disco. La tabella VehicleTemperatures include il payload JSON e si presta all'estensione per gli scenari di Internet delle cose. La tabella VehicleTemperatures si presta inoltre a scenari che coinvolgono EventHubs, analisi di flusso e Power BI.<br/><br/>La stored procedure `Website.RecordColdRoomTemperatures` viene compilata in modo nativo per migliorare ulteriormente le prestazioni della registrazione delle temperature delle stanze fredde.<br/><br/>Per vedere un esempio di In-Memory OLTP in azione, vedere il driver del carico di lavoro Vehicle-Locations in workload-drivers.zip, che fa parte della [versione dell'esempio](https://go.microsoft.com/fwlink/?LinkID=800630).|
|Indice columnstore cluster|(Versione completa del database) La tabella `Warehouse.StockItemTransactions` Usa un indice columnstore cluster. Il numero di righe in questa tabella dovrebbe aumentare in modo significativo e l'indice columnstore cluster riduce significativamente le dimensioni su disco della tabella e migliora le prestazioni di esecuzione delle query. Le modifiche apportate a questa tabella sono di solo inserimento. non è presente alcun aggiornamento/eliminazione in questa tabella nel carico di lavoro online. l'indice columnstore cluster funziona correttamente per i carichi di lavoro di inserimento.|
|Dynamic Data Masking|Nello schema del database, la maschera dati è stata applicata ai dettagli della Banca utilizzati per i fornitori, nella tabella `Purchasing.Suppliers` . Il personale non amministratore non avrà accesso a queste informazioni.|
|Always Encrypted|Una demo per Always Encrypted è inclusa nel samples.zip scaricabile, che fa parte della [versione dell'esempio](https://go.microsoft.com/fwlink/?LinkID=800630). La demo crea una chiave di crittografia, una tabella che usa la crittografia per i dati sensibili e una piccola applicazione di esempio che inserisce i dati nella tabella.|
|Stretch database|La `Warehouse.ColdRoomTemperatures` tabella è stata implementata come tabella temporale ed è ottimizzata per la memoria nella versione completa del database di esempio. La tabella di archiviazione è basata su disco e può essere estesa ad Azure.|
|Indici full-text|Gli indici full-text migliorano la ricerca di persone, clienti e StockItems. Gli indici vengono applicati alle query solo se l'indicizzazione full-text è installata nell'istanza di SQL Server. Una colonna calcolata non persistente viene utilizzata per creare i dati con indicizzazione full-text nella tabella StockItems.<br/><br/>`CONCAT` viene utilizzato per la concatenazione dei campi per la creazione di SearchData con indicizzazione full-text.<br/>Per abilitare l'utilizzo di indici full-text nell'esempio, eseguire l'istruzione seguente nel database:<br/><br/>`EXECUTE [Application].[Configuration_ConfigureFullTextIndexing]`<br/><br/>La procedura crea un catalogo full-text predefinito, se non ne esiste già uno, quindi sostituisce le visualizzazioni di ricerca con le versioni full-text di tali visualizzazioni.<br/><br/>Si noti che l'utilizzo di indici full-text in SQL Server richiede la selezione dell'opzione Full-Text durante l'installazione. Il database SQL di Azure non richiede una configurazione specifica per abilitare gli indici full-text.|
|Colonne calcolate salvate in un indice|Colonne calcolate salvate in un indice utilizzate in SupplierTransactions e CustomerTransactions.|
|Vincoli CHECK|Un vincolo check relativamente complesso è in `Sales.SpecialDeals` . In questo modo si garantisce che siano configurati solo uno dei DiscountAmount, DiscountPercentage e PrezzoUnitario.|
|Vincoli UNIQUE|Una costruzione molti-a-molti (e vincoli UNIQUE) viene configurata per `Warehouse.StockItemStockGroups` .|
|Partizionamento delle tabelle|(Versione completa del database) Le tabelle `Sales.CustomerTransactions` e `Purchasing.SupplierTransactions` sono entrambe partizionate per anno utilizzando la funzione `PF_TransactionDate` di partizione e lo schema di partizione `PS_TransactionDate` . Il partizionamento viene utilizzato per migliorare la gestibilità delle tabelle di grandi dimensioni.|
|Elaborazione elenco|Viene fornito un tipo di tabella di esempio `Website.OrderIDList` . Viene utilizzato da una procedura di esempio `Website.InvoiceCustomerOrders` . La procedura usa le espressioni di tabella comuni (CTE), TRY/CATCH, JSON_MODIFY, XACT_ABORT, NOCOUNT, THROW e XACT_STATE per illustrare la possibilità di elaborare un elenco di ordini anziché un solo ordine, per ridurre al minimo i round trip dall'applicazione al motore di database.|
|Compressione GZip|Nella `Warehouse.VehicleTemperature` visualizzazione la tabella include i dati completi del sensore. Tuttavia, quando questi dati Risaleno a più di alcuni mesi, viene compresso per conservare spazio. La funzione COMPRESS usa la compressione GZip.<br/><br/>La vista `Website.VehicleTemperatures` Usa la funzione Decompress durante il recupero dei dati compressi in precedenza.|
|Archivio query|Query Store è abilitato nel database. Dopo aver eseguito alcune query, seguire questa procedura:<br/><br/>1. Aprire il database in Management Studio.<br/>2. Aprire il Query Store del nodo, che si trova nel database.<br/>3. Aprire il report *prime query per consumo di risorse*. Vedere le esecuzioni di query e visualizzare i piani per le query appena eseguite.|
|STRING_SPLIT|La colonna `DeliveryInstructions` nella tabella `Sales.Invoices` include un valore delimitato da virgole che può essere utilizzato per illustrare STRING_SPLIT.|
|Audit|SQL Server controllo può essere abilitato per questo database di esempio eseguendo l'istruzione seguente nel database:<br/><br/>`EXECUTE [Application].[Configuration_ApplyAuditing]`<br/><br/>Nel database SQL di Azure il controllo viene abilitato tramite il [portale di Azure](https://portal.azure.com/).<br/><br/>Le operazioni di sicurezza che coinvolgono account di accesso, ruoli e autorizzazioni vengono registrate su tutti i sistemi in cui è abilitato il controllo (inclusi i sistemi Standard Edition). Il controllo viene indirizzato al registro applicazioni perché è disponibile in tutti i sistemi e non richiede autorizzazioni aggiuntive. Viene visualizzato un avviso per una maggiore sicurezza, che deve essere reindirizzato al registro di sicurezza o a un file in una cartella sicura. Viene fornito un collegamento per descrivere la configurazione aggiuntiva richiesta.<br/><br/>Per i sistemi Evaluation/Developer/Enterprise Edition, viene controllato l'accesso a tutti i dati transazionali finanziari.|
| &nbsp; | &nbsp; |
