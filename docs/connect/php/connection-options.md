---
title: Opzioni di connessione
description: In questo argomento sono elencate le opzioni consentite nella matrice associativa di sqlsrv_connect nel driver SQLSRV o le parole chiave consentite nel nome dell'origine dati nel driver PDO_SQLSRV.
ms.custom: ''
ms.date: 01/29/2021
ms.prod: sql
ms.prod_service: connectivity
ms.reviewer: ''
ms.technology: connectivity
ms.topic: conceptual
ms.assetid: 6d1ea295-8e34-438e-8468-4bbc0f76192c
author: David-Engel
ms.author: v-daenge
ms.openlocfilehash: a8718cc04972e74ffc39b1528ed73eb00664eda8
ms.sourcegitcommit: f30b5f61c514437ea58acc5769359c33255b85b5
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/29/2021
ms.locfileid: "99076253"
---
# <a name="connection-options"></a>Opzioni di connessione
[!INCLUDE[Driver_PHP_Download](../../includes/driver_php_download.md)]

Questo argomento elenca le opzioni consentite nella matrice associativa (quando si usa [sqlsrv_connect](sqlsrv-connect.md) nel driver SQLSRV) o le parole chiave consentite nel nome dell'origine dati (dns) (quando si usa [PDO::__construct](pdo-construct.md) nel driver PDO_SQLSRV).  

## <a name="table-of-connection-options"></a>Tabella delle opzioni di connessione

|Chiave|valore|Descrizione|Predefinito|  
|-------|---------|---------------|-----------|  
|AccessToken|string|Stringa di byte del token di accesso di Azure AD estratto da una risposta JSON OAuth.<br /><br />La stringa di connessione non deve contenere un ID utente, una password o la parola chiave `Authentication`. Per altre informazioni, vedere [Connettersi con l'autenticazione di Azure Active Directory](azure-active-directory.md)|Non impostato.|
|APP|string|Specifica il nome dell'applicazione usato nella traccia.|Non impostato.|  
|ApplicationIntent|string|Dichiara il tipo di carico di lavoro dell'applicazione in caso di connessione a un server. I valori possibili sono **ReadOnly** e **ReadWrite**.<br /><br />Per altre informazioni sul supporto di [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] per [!INCLUDE[ssHADR](../../includes/sshadr_md.md)], vedere [Supporto per disponibilità elevata e ripristino di emergenza](php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).|ReadWrite|
|AttachDBFileName|string|Specifica il file di database a cui associare il server.|Non impostato.|
|Authentication|Una delle stringhe seguenti:<br /><br />**SqlPassword**<br /><br />**ActiveDirectoryPassword**<br /><br />**ActiveDirectoryMsi**<br /><br />**ActiveDirectoryServicePrincipal**|Specifica la modalità di autenticazione.<br /><br />Per altre informazioni, vedere [Connettersi con l'autenticazione di Azure Active Directory](azure-active-directory.md)|Non impostato.|
|CharacterSet<br /><br />(non supportato nel driver PDO_SQLSRV)|string|Specifica il set di caratteri usato per l'invio di dati al server.<br /><br />I valori possibili sono SQLSRV_ENC_CHAR e UTF-8. Per altre informazioni, vedere [Procedura: Inviare e recuperare dati UTF-8 con il supporto incorporato di UTF-8](how-to-send-and-retrieve-utf-8-data-using-built-in-utf-8-support.md).|SQLSRV_ENC_CHAR|  
|ColumnEncryption|Una delle stringhe seguenti:<br /><br />**Enabled**<br /><br />**Disabilitato**<br /><br />Stringa che identifica il protocollo di attestazione e l'URL per l'attestazione dell'enclave|Specifica se la funzionalità Always Encrypted è abilitata o meno. Se vengono specificati un URL e un protocollo di attestazione, Always Encrypted con enclave sicuri è abilitato, purché siano soddisfatti gli altri requisiti, come descritto [qui](always-encrypted-secure-enclaves.md).|Disabled|  
|ConnectionPooling|1 o **true** per il pool di connessioni attivato.<br /><br />0 o **false** per il pool di connessioni disattivato.|Specifica se la connessione viene assegnata da un pool di connessioni (1 o **true**) o no (0 o **false**).<sup>1</sup>|**true** (1)|  
|ConnectRetryCount|Numero intero compreso tra 0 e 255 inclusi|Numero massimo di tentativi di ristabilire una connessione interrotta prima di rinunciare. Per impostazione predefinita, viene fatto un solo tentativo di ristabilire una connessione interrotta. Il valore 0 indica che non verrà tentata alcuna riconnessione.|1|  
|ConnectRetryInterval|Numero intero compreso tra 1 e 60 inclusi|Tempo, in secondi, tra i tentativi di ristabilire una connessione. L'applicazione tenterà di riconnettersi immediatamente dopo aver rilevato una connessione interrotta e attenderà `ConnectRetryInterval` secondi prima di riprovare. Questa parola chiave viene ignorata se `ConnectRetryCount` è uguale a 0.|1|  
|Database|string|Specifica il nome del database in uso per la connessione in corso di creazione<sup>2</sup>.|Il database predefinito per l'accesso in uso.|  
|DecimalPlaces<br /><br />(non supportato nel driver PDO_SQLSRV)|Numero intero compreso tra 0 e 4 inclusi|Specifica i numeri decimali quando si formattano valori money recuperati.<br /><br />Questa opzione funziona solo quando `FormatDecimals` è true. Qualsiasi numero intero negativo o valore maggiore di 4 verrà ignorato.|Precisione e scala predefinite|
|Driver|string|Specifica il driver Microsoft ODBC usato per comunicare con SQL Server.<br /><br />I valori possibili sono:<br />ODBC Driver 17 for SQL Server<br />ODBC Driver 13 for SQL Server<br />ODBC Driver 11 for SQL Server (solo Windows).|Se non viene specificata la parola chiave Driver, i driver Microsoft per PHP per SQL Server tentano di trovare i driver Microsoft ODBC supportati nel sistema, a partire dalla versione più recente di ODBC.| 
|Encrypt|1 o **true** per la crittografia attivata.<br /><br />0 o **false** per la crittografia disattivata.|Specifica se la comunicazione con SQL Server è crittografata (1 o **true**) o non crittografata (0 o **false**)<sup>3</sup>.|**false** (0)|  
|Failover_Partner|string|Specifica il server e l'istanza di mirroring del database (se abilitato e configurato) da usare quando il server primario non è disponibile.<br /><br />Esistono delle restrizioni per l'uso di `Failover_Partner` con `MultiSubnetFailover`. Per altre informazioni, vedere [Supporto per disponibilità elevata e ripristino di emergenza](php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).<br /><br />Questa opzione non è supportata in Linux o macOS perché il mirroring del database non è supportato dal driver ODBC in Linux o macOS. Usare invece i gruppi di disponibilità Always On e impostare le opzioni `MultiSubnetFailover` e `TransparentNetworkIPResolution`.|Non impostato.|
|FormatDecimals<br /><br />(non supportato nel driver PDO_SQLSRV)|1 o **true** per formattare le stringhe decimali recuperate.<br /><br />0 o **false** per il comportamento predefinito della formattazione decimale.|Specifica se aggiungere zeri iniziali nelle stringhe decimali quando appropriato e abilita l'opzione `DecimalPlaces` per la formattazione dei tipi money. Se false, viene usato il comportamento predefinito di restituire la precisione esatta e di omettere gli zeri iniziali per valori inferiori a 1.<br /><br />Per altre informazioni, vedere [Formattazione di stringhe decimali e valori money](formatting-decimals-sqlsrv-driver.md).|**false** (0)|
|KeyStoreAuthentication|**KeyVaultPassword**<br /><br />**KeyVaultClientSecret**|Metodo di autenticazione per l'accesso ad Azure Key Vault. Stabilisce quale tipo di credenziali deve essere usato con `KeyStorePrincipalId` e `KeyStoreSecret`. Per altre informazioni, vedere [Uso di Azure Key Vault](using-always-encrypted-php-drivers.md#using-azure-key-vault).|Non impostato.|
|KeyStorePrincipalId|string|Identificatore per l'account che cerca di accedere ad Azure Key Vault. <br /><br />Se `KeyStoreAuthentication` è **KeyVaultPassword**, deve essere un nome utente di Azure Active Directory. <br /><br />Se `KeyStoreAuthentication` è **KeyVaultClientSecret**, deve essere un ID client dell'applicazione.|Non impostato.|
|KeyStoreSecret|string|Segreto delle credenziali per l'account che cerca di accedere ad Azure Key Vault. <br /><br />Se `KeyStoreAuthentication` è **KeyVaultPassword**, deve essere una password di Azure Active Directory. <br /><br />Se `KeyStoreAuthentication` è **KeyVaultClientSecret**, deve essere un segreto client dell'applicazione.|Non impostato.|
|Linguaggio|string|Specifica la lingua dei messaggi restituiti dal server. Le lingue disponibili sono elencate nella tabella `sys.syslanguages`. <br /><br />Questa opzione non influisce sulla lingua usata dagli stessi driver, che attualmente sono disponibili solo in inglese, né sulla lingua del driver ODBC sottostante, la cui lingua è determinata dalla versione localizzata installata nel sistema client. Pertanto, la modifica di questa impostazione può comportare la restituzione dei messaggi in lingue diverse, a seconda se provengono dal driver PHP, dal driver ODBC o da SQL Server.|Il valore predefinito è la lingua impostata in SQL Server.|
|LoginTimeout|Integer (driver SQLSRV)<br /><br />String (driver PDO_SQLSRV)|Specifica il numero di secondi trascorsi i quali il tentativo di connessione ha esito negativo.|Nessun timeout.|  
|MultipleActiveResultSets|1 o **true** per usare più set di risultati attivi.<br /><br />0 o **false** per disabilitare più set di risultati attivi.|Disabilita o abilita in modo esplicito il supporto per più set di risultati attivi (MARS).<br /><br />Per altre informazioni, vedere [Procedura: Disabilitare più set di risultati attivi &#40;MARS&#41;](how-to-disable-multiple-active-resultsets-mars.md).|true (1)|  
|MultiSubnetFailover|string|Specificare sempre `multiSubnetFailover=yes` in caso di connessione al listener del gruppo di disponibilità di un gruppo di disponibilità di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] o a un'istanza del cluster di failover di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)]. `multiSubnetFailover=yes` configura [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] in modo da assicurare una maggiore velocità per il rilevamento del server (attualmente) attivo e la connessione allo stesso. I valori possibili sono Yes e No.<br /><br />Per altre informazioni sul supporto di [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] per [!INCLUDE[ssHADR](../../includes/sshadr_md.md)], vedere [Supporto per disponibilità elevata e ripristino di emergenza](php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).|No|  
|PWD<br /><br />(non supportato nel driver PDO_SQLSRV)|string|Specifica la password associata all'ID utente da usare durante la connessione con l'autenticazione di SQL Server<sup>4</sup>.|Non impostato.|  
|QuotedId|1 o **true** per usare le regole SQL-92.<br /><br />0 o **false** per usare le regole precedenti.|Specifica se usare le regole SQL-92 per gli identificatori delimitati (1 o **true**) o le regole Transact-SQL legacy (0 o **false**).|**true** (1)|  
|ReturnDatesAsStrings<br /><br />(non supportato nel driver PDO_SQLSRV)|1 o **true** per restituire i tipi di data e ora come stringhe.<br /><br />0 o **false** per restituire i tipi di data e ora come tipi **DateTime** PHP.|Recupera i tipi di data e ora (datetime, smalldatetime, date, time, datetime2 e datetimeoffset) come stringhe o come tipi PHP. Per altre informazioni, vedere [Procedura: Recuperare i tipi di data e ora come stringhe usando il driver SQLSRV](how-to-retrieve-date-and-time-type-as-strings-using-the-sqlsrv-driver.md). <br /><br />Quando si usa il driver PDO_SQLSRV, le date vengono restituite come stringhe se non diversamente specificato. Per altre informazioni, vedere [Procedura: Recuperare i tipi di data e ora come oggetti DateTime PHP usando il driver PDO_SQLSRV](how-to-retrieve-datetime-objects-using-pdo-sqlsrv-driver.md).|**false**|
|Scorrimento|string|"buffered" indica che si desidera un cursore sul lato client (memorizzato nel buffer) che consente di memorizzare nella cache un intero set di risultati. Per altre informazioni, vedere [Tipi di cursore &#40;driver SQLSRV&#41;](cursor-types-sqlsrv-driver.md).|Cursore forward-only|  
|Server<br /><br />(non supportato nel driver SQLSRV)|string|Istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cui connettersi.<br /><br />È inoltre possibile specificare un nome di rete virtuale per connettersi a un gruppo di disponibilità AlwaysOn. Per altre informazioni sul supporto di [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] per [!INCLUDE[ssHADR](../../includes/sshadr_md.md)], vedere [Supporto per disponibilità elevata e ripristino di emergenza](php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md).|Server è una parola chiave obbligatoria (anche se non deve essere la prima parola chiave della stringa di connessione). Se un nome server non viene passato alla parola chiave, viene effettuato un tentativo di connessione all'istanza locale.<br /><br />Il valore passato a Server può essere il nome di un'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] o l'indirizzo IP dell'istanza. Facoltativamente, è possibile specificare un numero di porta, ad esempio `sqlsrv:server=(local),1033`.<br /><br />A partire dalla versione 3.0 di [!INCLUDE[ssDriverPHP](../../includes/ssdriverphp_md.md)] è inoltre possibile specificare un'istanza di LocalDB con `server=(localdb)\instancename`. Per altre informazioni, vedere [Supporto per Local DB](php-driver-for-sql-server-support-for-localdb.md).|  
|TraceFile|string|Specifica il percorso del file usato per i dati di traccia.|Non impostato.|  
|TraceOn|1 o **true** per abilitare la traccia.<br /><br />0 o **false** per disabilitare la traccia.|Specifica se la traccia ODBC è abilitata (1 o **true**) o disabilitata (0 o **false**) per la connessione in corso di creazione.|**false** (0)|  
|TransactionIsolation|Il driver SQLSRV usa i valori seguenti:<br /><br />SQLSRV_TXN_READ_UNCOMMITTED<br /><br />SQLSRV_TXN_READ_COMMITTED<br /><br />SQLSRV_TXN_REPEATABLE_READ<br /><br />SQLSRV_TXN_SNAPSHOT<br /><br />SQLSRV_TXN_SERIALIZABLE<br /><br />Il driver PDO_SQLSRV usa i valori seguenti:<br /><br />PDO::SQLSRV_TXN_READ_UNCOMMITTED<br /><br />PDO::SQLSRV_TXN_READ_COMMITTED<br /><br />PDO::SQLSRV_TXN_REPEATABLE_READ<br /><br />PDO::SQLSRV_TXN_SNAPSHOT<br /><br />PDO::SQLSRV_TXN_SERIALIZABLE|Specifica il livello di isolamento delle transazioni.<br /><br />Per altre informazioni sull'isolamento delle transazioni, vedere [SET TRANSACTION ISOLATION LEVEL](../../t-sql/statements/set-transaction-isolation-level-transact-sql.md) nella documentazione di SQL Server.|SQLSRV_TXN_READ_COMMITTED<br /><br />o<br /><br />PDO::SQLSRV_TXN_READ_COMMITTED|  
|TransparentNetworkIPResolution|**Enabled** o **Disabled**|Influisce sulla sequenza di connessione quando il primo IP risolto del nome host non risponde e sono presenti più IP associati al nome host.<br /><br />Interagisce con `MultiSubnetFailover` per offrire diverse sequenze di connessione. Per altre informazioni, vedere [Risoluzione dell'IP di rete trasparente](php-driver-for-sql-server-support-for-high-availability-disaster-recovery.md) o [Uso della risoluzione dell'IP di rete trasparente](../odbc/using-transparent-network-ip-resolution.md).|Attivato|
|TrustServerCertificate|1 o **true** per considerare il certificato attendibile.<br /><br />0 o **false** per non considerare il certificato attendibile.|Specifica se il client deve considerare attendibile (1 o **true**) o rifiutare (0 o **false**) un certificato server autofirmato.|**false** (0)|  
|UID<br /><br />(non supportato nel driver PDO_SQLSRV)|string|Specifica l'ID utente da usare durante la connessione con l'autenticazione di SQL Server<sup>4</sup>.|Non impostato.|  
|WSID|string|Specifica il nome del computer per la traccia.|Non impostato.|  
| &nbsp; | &nbsp; | &nbsp; | &nbsp; |

1. Non è possibile usare l'attributo `ConnectionPooling` per abilitare o disabilitare il pool di connessioni in Linux e macOS. Vedere [Pool di connessioni (driver Microsoft per PHP per SQL Server)](connection-pooling-microsoft-drivers-for-php-for-sql-server.md).

2. Tutte le query eseguite durante la connessione stabilita vengono eseguite nel database specificato dall'attributo `Database`. Se l'utente dispone delle autorizzazioni necessarie, tuttavia, è possibile accedere ai dati di altri database usando un nome completo. Se ad esempio il database *master* è impostato con l'attributo di connessione `Database`, è comunque possibile eseguire una query Transact-SQL che acceda alla tabella *AdventureWorks.HumanResources.Employee* usando il nome completo.  

3. L'abilitazione di `Encryption` può compromettere le prestazioni di alcune applicazioni a causa dell'overhead computazionale necessario per la crittografia dei dati.  

4. Gli attributi `UID` e `PWD` devono essere entrambi impostati durante la connessione con l'autenticazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].  

Molte delle chiavi supportate sono attributi della stringa di connessione ODBC. Per informazioni sulle stringhe di connessione ODBC, vedere [Uso delle parole chiave delle stringhe di connessione con SQL Server Native Client](../../relational-databases/native-client/applications/using-connection-string-keywords-with-sql-server-native-client.md).

## <a name="see-also"></a>Vedere anche  
[Connessione al server](connecting-to-the-server.md)  
