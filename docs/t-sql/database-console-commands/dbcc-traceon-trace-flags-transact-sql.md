---
description: DBCC TRACEON - Flag di traccia (Transact-SQL)
title: Flag di traccia (Transact-SQL) | Microsoft Docs
ms.custom: ''
ms.date: 01/19/2021
ms.prod: sql
ms.prod_service: sql-database
ms.reviewer: ''
ms.technology: t-sql
ms.topic: language-reference
dev_langs:
- TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
author: pmasl
ms.author: pelopes
ms.openlocfilehash: 2cc8cbcc737c1f77c11aee6826ab39bd8b1ec4f1
ms.sourcegitcommit: d8cdbb719916805037a9167ac4e964abb89c3909
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 01/20/2021
ms.locfileid: "98597238"
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON - Flag di traccia (Transact-SQL)

[!INCLUDE[tsql-appliesto-ss2012-asdbmi-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-asdbmi-xxxx-xxx-md.md)]

I flag di traccia vengono usati per impostare funzionalità del server specifiche o per modificare un particolare comportamento. Il flag di traccia 3226 è ad esempio un flag di traccia di avvio di uso comune che elimina i messaggi di backup riuscito nel log degli errori. I flag di traccia vengono spesso usati per diagnosticare i problemi di prestazioni o eseguire il debug di stored procedure o sistemi complessi, ma possono anche essere consigliati dal supporto tecnico Microsoft per risolvere un comportamento che ha conseguenze negative su uno specifico carico di lavoro. Tutti i flag di traccia descritti e quelli consigliati dal supporto tecnico Microsoft sono completamente supportati in un ambiente di produzione se usati come indicato. Si noti che i flag di traccia in questo elenco possono essere accompagnati da considerazioni aggiuntive sul loro uso specifico, pertanto è consigliabile esaminare con attenzione tutti i consigli specificati qui e/o dal personale del supporto tecnico. Come per qualsiasi modifica alla configurazione in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], è sempre consigliabile testare accuratamente il flag in un ambiente non di produzione prima della distribuzione.

## <a name="remarks"></a>Osservazioni  
 In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sono disponibili tre ambiti per l'uso dei flag di traccia: query, sessione e globale. I flag di traccia di query sono attivi per il contesto di una query specifica. I flag di traccia di sessione sono attivi per una connessione e sono visibili solo per tale connessione. I flag di traccia globali vengono impostati a livello del server e sono visibili per tutte le connessioni nel server. Alcuni flag possono essere abilitati solo in ambito globale, mentre altri possono essere abilitati in ambito globale o sessione.  
  
 Sono applicabili le regole seguenti:  
-   Un flag di traccia globale deve essere abilitato a livello globale. In caso contrario, non ha alcun effetto. È consigliabile abilitare i flag di traccia globali all'avvio usando l'opzione della riga di comando **-T**. In questo modo il flag di traccia rimane attivo dopo il riavvio del server. Riavviare SQL Server per rendere effettivo il flag di traccia. 
-   Un flag di traccia con ambito globale, sessione o query può essere abilitato con l'ambito appropriato. Un flag di traccia abilitato a livello di sessione non influisce mai sulle altre sessioni e l'effetto viene perso alla disconnessione dello SPID che ha aperto la sessione.  
  
I flag di traccia possono essere impostati su ON o OFF in uno dei modi seguenti:
-   Tramite i comandi DBCC TRACEON e DBCC TRACEOFF.  
     Ad esempio, per abilitare il flag di traccia 2528 a livello globale, usare [DBCC TRACEON](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md) con l'argomento -1: `DBCC TRACEON (2528, -1)`. L'effetto dell'attivazione di un flag di traccia globale con DBCC TRACEON viene perso al riavvio del server. Per disabilitare un flag di traccia globale, usare [DBCC TRACEOFF](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md) con l'argomento -1.  
-   Tramite l'opzione di avvio **-T** se si vuole che il flag di traccia venga impostato durante l'avvio.  
     L'opzione di avvio **-T** attiva un flag di traccia a livello globale. Non è possibile abilitare un flag di traccia a livello di sessione tramite un'opzione di avvio. In questo modo il flag di traccia rimane attivo dopo il riavvio del server. Per altre informazioni sulle opzioni di avvio, vedere [Opzioni di avvio del servizio del motore di database](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   A livello di query, usando l'[hint per la query](https://support.microsoft.com/kb/2801413) QUERYTRACEON. L'opzione QUERYTRACEON è supportata solo per i flag di traccia di Query Optimizer descritti nella tabella seguente.
  
Per verificare i flag di traccia attivi, usare il comando `DBCC TRACESTATUS`.

## <a name="trace-flags"></a>Flag di traccia

Nella tabella seguente vengono elencati e descritti i flag di traccia disponibili in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 

> [!NOTE]
> Istanza gestita di SQL di Azure supporta i flag di traccia globali seguenti: 460, 2301, 2389, 2390, 2453, 2467, 7471, 8207, 9389, 10316 e 11024. I flag di traccia di sessione non sono ancora supportati in Istanza gestita.
 
> [!NOTE]
> Alcuni flag di traccia sono stati introdotti in specifiche versioni di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Per altre informazioni sulla versione applicabile, vedere l'articolo del supporto tecnico Microsoft associato a un flag di traccia specifico.

> [!IMPORTANT]
> È possibile che il comportamento dei flag di traccia non sia supportato nelle versioni future di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
|Flag di traccia|Descrizione|  
|---|---|
|**101**|Aumenta il livello di dettaglio della registrazione dell'agente di replica di tipo merge.<br /><br />**IMPORTANTE:** il flag di traccia 101 può essere abilitato solo per l'[agente di merge di replica](../../relational-databases/replication/agents/replication-merge-agent.md) usando l'opzione **-T** quando si esegue **replmerg.exe** dal prompt dei comandi.<br /><br />**AVVISO:** il flag di traccia 101 non è progettato per essere abilitato in modo continuo in un ambiente di produzione, ma solo per finalità di risoluzione dei problemi limitate nel tempo. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2892633).<br /><br />**Ambito**: solo agente di merge di replica|
|**102**|Aumenta il livello di dettaglio della registrazione dell'agente di replica di tipo merge e lo indirizza alla tabella *\<Distribution server>..msmerge_history*.<br /><br />**IMPORTANTE:** il flag di traccia 102 può essere abilitato solo per l'[agente di merge di replica](../../relational-databases/replication/agents/replication-merge-agent.md) usando l'opzione **-T** quando si esegue **replmerg.exe** dal prompt dei comandi.<br /><br />**AVVISO:** il flag di traccia 102 non è progettato per essere abilitato in modo continuo in un ambiente di produzione, ma solo per finalità di risoluzione dei problemi limitate nel tempo. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2892633).<br /><br />**Ambito**: solo agente di merge di replica|
|**139**| Forza la semantica di conversione corretta nell'ambito dei comandi di controllo DBCC come [DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) e [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md) durante l'analisi della precisione avanzata e della logica di conversione introdotte con il livello di compatibilità 130 per tipi di dati specifici in un database con un livello di compatibilità inferiore. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4010261).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] RTM CU3, [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1 e alle build successive.<br /><br />**AVVISO:** il flag di traccia 139 non è stato progettato per essere abilitato continuamente in un ambiente di produzione e deve essere usato esclusivamente per l'esecuzione dei controlli di convalida del database descritti in questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4010261). Il flag deve essere disabilitato immediatamente dopo il completamento dei controlli di convalida.<br /><br />**Ambito**: solo globale|
|**174**|Incrementa il numero di bucket della cache dei piani del [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] da 40.009 a 160.001 sui sistemi a 64 bit. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3026083).<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: solo globale|
|**176**|Abilita una correzione per risolvere gli errori che si verificano durante la ricompilazione di partizioni online per le tabelle che contengono una colonna di partizionamento calcolata. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3213683) e questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4541096).<br /><br />**Ambito**: globale o sessione|
|**205**|Segnala nel log degli errori quando una stored procedure dipendente dalle statistiche viene ricompilata in seguito alle statistiche di aggiornamento automatico. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/195565).<br /><br />**Nota:** questo flag di traccia richiede l'abilitazione del flag di traccia [3605](#3605).<br /><br />**Ambito**: solo globale|
|**260**|Visualizza informazioni sulla versione delle librerie di collegamento dinamico delle stored procedure estese. Per altre informazioni su **GetXpVersion()** , vedere [Creazione di stored procedure estese](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Ambito:** globale o sessione|
|**272**|Disabilita la preallocazione dell'identità per evitare scostamenti nei valori in una colonna Identity nel caso in cui un server sia riavviato in modo imprevisto o esegua un failover in un server secondario. Si noti che la memorizzazione dell'identità nella cache viene usata per migliorare le prestazioni di INSERT nelle tabelle che contengono colonne Identity.<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] per eseguire questa operazione a livello di database, vedere l'opzione IDENTITY_CACHE in [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Ambito**: solo globale|
|**460**|Sostituisce il messaggio sul troncamento dei dati con ID [8152](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-8000-to-8999) con il messaggio con ID [2628](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-2000-to-2999). Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4468101).<br /><br />A partire da [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], per eseguire questa operazione a livello di database, vedere l'opzione VERBOSE_TRUNCATION_WARNINGS in [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU12 e alle build successive.<br /><br />**Nota:** a partire dal livello di compatibilità del database 150, l'ID messaggio 2628 è l'impostazione predefinita e questo flag di traccia non ha alcun effetto.<br /><br />**Ambito**: globale o sessione|
|**610**|Controlla gli inserimenti della registrazione minima nelle tabelle indicizzate. Questo flag di traccia non è obbligatorio a partire da SQL Server 2016 poiché la registrazione minima è attivata per impostazione predefinita per le tabelle indicizzate. In [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] quando l'operazione di caricamento bulk causa l'allocazione di una nuova pagina, viene eseguita la registrazione minima di tutte le righe che compilano in sequenza la nuova pagina se tutti gli altri prerequisiti per la registrazione minima sono soddisfatti. Le righe inserite nelle pagine esistenti (senza allocazione di nuove pagine) per mantenere l'ordine dell'indice continuano a essere registrate completamente poiché si tratta di righe che vengono spostate in seguito a divisioni di pagina durante il caricamento. È anche importante impostare ALLOW_PAGE_LOCKS su ON per gli indici (impostato su ON per impostazione predefinita) per garantire il funzionamento della registrazione minima quando vengono acquisiti blocchi di pagina durante l'allocazione e di conseguenza vengono registrate solo le allocazioni di pagine o extent. Per altre informazioni, vedere [Guida alle prestazioni del caricamento di dati](/previous-versions/sql/sql-server-2008/dd425070(v=sql.100)).<br /><br />**Ambito**: globale o sessione|
|**634**|Disabilita l'attività in background di compressione Columnstore. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] esegue periodicamente un'attività in background del motore di tuple con cui vengono compressi i rowgroup dell'indice columnstore con dati non compressi, un rowgroup alla volta.<br /><br />Con la compressione Columnstore vengono migliorate le prestazioni delle query ma anche l'utilizzo delle risorse di sistema. È possibile controllare l'intervallo di compressione Columnstore manualmente, disabilitando l'attività in background di compressione con il flag di traccia 634 e, successivamente, richiamando in modo esplicito ALTER INDEX...REORGANIZE o ALTER INDEX...REBUILD al momento desiderato.<br /><br />**Ambito:** solo globale|
|**652**|Disabilita le analisi di prelettura delle pagine. Se si attiva il flag di traccia 652, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non inserisce più le pagine del database nel pool di buffer prima che queste pagine del database vengano utilizzate dalle analisi. Di conseguenza, le query che traggono vantaggio dalla funzionalità di prelettura della pagina presentano prestazioni ridotte. <br /><br />**Ambito**: globale o sessione|
|**661**|Disabilita il processo di rimozione dei record fantasma. Il flag di traccia 661 disabilita il processo di rimozione dei record fantasma. Un record fantasma è il risultato di un'operazione di eliminazione. Quando si elimina un record, il record eliminato viene mantenuto come record fantasma. Successivamente, il record eliminato viene cancellato dal processo di rimozione dei record fantasma. Quando si disabilita questo processo, il record eliminato non viene rimosso. Lo spazio usato dal record eliminato non viene quindi liberato. Questo comportamento influisce sull'utilizzo dello spazio e sulle prestazioni delle operazioni di analisi. Per altre informazioni, vedere la [Guida al processo di pulizia fantasma](../../relational-databases/ghost-record-cleanup-process-guide.md). <br /><br />**Ambito**: solo globale|
|**692**|Disabilita gli inserimenti rapidi durante il caricamento bulk di dati nell'heap o indice cluster. A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)], gli inserimenti rapidi sono abilitati per impostazione predefinita e usano la registrazione minima quando il database ha un modello di recupero semplice o con registrazione bulk per ottimizzare le prestazioni di inserimento per i record inseriti nelle nuove pagine. Con gli inserimenti rapidi, ogni batch di caricamento bulk acquisisce nuovi extent ignorando la ricerca di allocazione di un extent con spazio disponibile per ottimizzare le prestazioni di inserimento.<br /><br /> Con gli inserimenti rapidi, poiché i caricamenti bulk con batch di dimensioni ridotte possono causare un aumento dello spazio inutilizzato da parte degli oggetti, è consigliabile usare batch di grandi dimensioni in modo che ogni batch occupi l'intero extent. Se non è possibile aumentare le dimensioni dei batch, questo flag di traccia può aiutare a ridurre lo spazio inutilizzato riservato a scapito delle prestazioni. <br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] RTM e alle build successive.<br /><br />**Ambito**: globale o sessione|
|**715**|Abilita il blocco di tabella per le operazioni di caricamento bulk in un heap senza indici non cluster. Quando questo flag di traccia è abilitato, le operazioni di caricamento bulk acquisiscono blocchi di aggiornamenti bulk (BU) quando viene eseguita la copia bulk dei dati in una tabella. I blocchi di aggiornamenti bulk consentono a più thread di eseguire operazioni simultanee di caricamento bulk dei dati nella stessa tabella, impedendo l'accesso alla tabella ai processi che non eseguono il caricamento bulk.<br /><br />Il comportamento è simile a quando l'utente specifica in modo esplicito l'hint. TABLOCK durante il caricamento bulk o a quando il blocco della tabella sp_tableoption per il caricamento bulk è abilitato per una determinata tabella. Tuttavia, quando questo flag di traccia è abilitato, questo comportamento diventa predefinito senza modifiche alle query o al database.<br /><br />**Ambito:** globale o sessione|
|**818**|Abilita la diagnostica di I/O aggiuntiva per verificare le condizioni di scrittura persa o lettura non aggiornata durante le operazioni di I/O su file. Il flag di traccia 818 abilita un buffer circolare in memoria che viene usato per tenere traccia delle ultime 2048 operazioni di scrittura riuscite eseguite da [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], escluse le operazioni di I/O per ordinamento e file di lavoro. Quando si verificano errori, come 605, 823 o 3448, il valore del numero di sequenza del file di log (LSN) del buffer in ingresso viene confrontato con l'elenco di scritture recenti. Se il numero LSN recuperato è precedente a quello specificato durante l'operazione di scrittura, nel log degli errori di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] viene registrato un nuovo messaggio di errore. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/826433).<br /><br />**Nota:** A partire da [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] questo flag di traccia non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**834**|Usa le allocazioni di pagine grandi per il pool di buffer, columnstore e le tabelle in memoria. Le dimensioni delle pagine grandi variano a seconda della piattaforma hardware, ma le dimensioni della pagina possono essere comprese tra 2 MB e 16 MB. Le pagine di grandi dimensioni vengono allocate all'avvio e vengono mantenute per tutto il ciclo di vita del processo. Il flag di traccia 834 migliora le prestazioni aumentando l'efficienza del buffer di ricerca delle conversioni (TLB) nella CPU. In altre parole, il flag di traccia 834 aumenta l'efficienza di gestione della conversione da indirizzo di memoria fisica a virtuale eseguita dall'hardware di gestione della memoria. Per informazioni su SQL Server e sulle pagine di grandi dimensioni, vedere il [blog](https://techcommunity.microsoft.com/t5/sql-server-support/sql-server-and-large-pages-explained-8230/ba-p/315787) seguente.<br /><br />**Nota:** Il flag di traccia 834 si applica solo alle versioni a 64 bit di SQL Server. Deve essere disponibile il diritto utente Blocco delle pagine in memoria per abilitare il flag di traccia 834. È possibile attivare il flag di traccia 834 solo all'avvio. Il flag di traccia 834 può impedire l'avvio del server in caso di frammentazione della memoria e se non è possibile allocare pagine di grandi dimensioni. Il flag di traccia 834 è quindi particolarmente adatto per i server dedicati a SQL Server.<br /><br />**Nota:** quando abilitato, il modello di memoria con pagine grandi pre-alloca tutta la memoria SQLOS all'avvio dell'istanza e non restituisce tale memoria al sistema operativo. <br /><br />**Nota:** Se si usa la funzione di indice Columnstore delle versioni da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] a [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], è consigliabile non attivare il flag di traccia 834. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3210239). Se si usano [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e columnstore, vedere invece il flag di traccia [876](#876).<br /><br />**Ambito**: solo globale|
|**836**|Usare l'opzione max server memory per il pool di buffer. Il flag di traccia 836 fa in modo che SQL Server ridimensioni il pool di buffer all'avvio in base al valore dell'opzione max server memory anziché in base alla memoria fisica totale. È possibile usare il flag di traccia 836 per ridurre il numero di descrittori di buffer allocati all'avvio in modalità AWE (Address Windowing Extensions) a 32 bit. <br /><br />**Nota:** il flag di traccia 836 si applica solo alle versioni a 32 bit di SQL Server con l'allocazione AWE abilitata. È possibile attivare il flag di traccia 836 solo all'avvio. <br /><br />**Ambito**: solo globale|
|**845**|Abilita le pagine bloccate negli SKU Standard di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quando l'account di servizio per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] ha il privilegio LPIM (Lock Pages In Memory) abilitato. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/970070) e la pagina della documentazione sulle [opzioni di configurazione per la memoria del server](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Nota:** a partire dalla versione [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] questo comportamento è abilitato per impostazione predefinita per gli SKU Standard e il flag di traccia 845 non deve essere usato.<br /><br />**Ambito**: solo globale|
|**876**|<a name="876"></a>Usa allocazioni di pagine di grandi dimensioni per columnstore.<br /><br />**Nota:** A differenza del flag di traccia 834, usando il flag di traccia 876 la memoria SQLOS non viene preallocata all'avvio dell'istanza e la memoria inutilizzata può essere rilasciata.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e build successive.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: solo globale|
|**902**|Ignora l'esecuzione dello script di aggiornamento del database durante l'installazione di un aggiornamento cumulativo o di un Service Pack. Se si verifica un errore in modalità di aggiornamento dello script, si consiglia di contattare il servizio di supporto tecnico e assistenza clienti di Microsoft SQL per ulteriori istruzioni. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2163980).<br /><br />**AVVISO:** questo flag di traccia è progettato per la risoluzione dei problemi degli aggiornamenti non riusciti in modalità di aggiornamento dello script e non ne è supportata l'esecuzione continua in un ambiente di produzione. Per garantire un'installazione completa degli aggiornamenti cumulativi e dei Service Pack, è necessario che gli script di aggiornamento del database vengano eseguiti correttamente. Se non vengono eseguiti correttamente è possibile che si verifichino problemi imprevisti nell'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />**Ambito**: solo globale|
|**1117**|Quando un file del filegroup raggiunge la soglia dell'aumento automatico delle dimensioni, vengono aumentate le dimensioni di tutti i file del filegroup. Questo flag di traccia influisce su tutti i database ed è consigliato solo se l'aumento delle dimensioni di tutti i file di un filegroup della stessa quantità in ogni database è considerato sicuro.<br /><br />**Nota:** a partire dalla versione [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è controllato dalle opzioni AUTOGROW_SINGLE_FILE e AUTOGROW_ALL_FILES di ALTER DATABASE e il flag di traccia 1117 non ha alcun effetto. Per altre informazioni, vedere [Opzioni per file e filegroup ALTER DATABASE &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Ambito:** solo globale|
|**1118**|Forza le allocazioni di pagina in extent uniformi anziché in extent misti, riducendo la contesa nella pagina SGAM. Quando si crea un nuovo oggetto, per impostazione predefinita, le prime otto pagine sono allocate da extent diversi (extent misti). Le eventuali pagine aggiuntive necessarie in seguito saranno allocate dallo stesso extent (extent uniforme). La pagina SGAM è usata per tenere traccia degli extent misti e può quindi diventare rapidamente un collo di bottiglia se si verificano numerose allocazioni di pagina miste. Questo flag di traccia alloca tutte le otto pagine dallo stesso extent durante la creazione di nuovi oggetti, riducendo al minimo la necessità di analizzare la pagina SGAM. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/328551).<br /><br />**Nota:** a partire dalla versione [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è controllato dall'opzione SET MIXED_PAGE_ALLOCATION di ALTER DATABASE e il flag di traccia 1118 non ha alcun effetto. Per altre informazioni, vedere [Opzioni ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Ambito:** solo globale|  
|**1204**|Restituisce le risorse e i tipi di blocco coinvolti in un deadlock nonché il comando corrente interessato. Per altre informazioni sui deadlock, vedere [Guida per il controllo delle versioni delle righe e il blocco della transazione](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlocks).<br /><br />**Nota:** evitare di usare il flag di traccia 1204 in sistemi con carichi di lavoro intensivi che causano deadlock. Per altre informazioni su altri metodi di rilevamento dei deadlock, vedere [Guida al blocco delle transazioni e al controllo delle versioni delle righe](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlock_detection).<br /><br />**Ambito:** solo globale|  
|**1211**|Disabilita l'escalation di blocchi in base al numero di richieste di memoria o al numero di blocchi. L'escalation di blocchi a livello di riga o di pagina in blocchi di tabella non verrà eseguita in [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)].<br /><br />L'uso di questo flag di traccia può generare un numero eccessivo di blocchi e, se le dimensioni della memoria blocchi aumentano troppo, i tentativi di allocare altri blocchi per le query potrebbero non riuscire, il che può a sua volta causare un rallentamento delle prestazioni di [!INCLUDE[ssDE](../../includes/ssde-md.md)] oppure errori 1204 di mancata allocazione delle risorse di blocco a causa di problemi di memoria insufficiente.<br /><br />Se sono impostati entrambi i flag di traccia 1211 e 1224, 1211 ha la precedenza rispetto a 1224. Tuttavia, poiché il flag di traccia 1211 impedisce l'escalation in ogni caso, anche in condizioni di memoria insufficiente, è consigliabile usare al suo posto il flag 1224. In questo modo è possibile evitare errori determinati dal superamento del numero di blocchi consentito quando vengono utilizzati numerosi blocchi.<br /><br />Per altre informazioni su come risolvere i problemi di blocco causati dall'escalation blocchi in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/323630).<br /><br />**Ambito**: globale o sessione|  
|**1222**|Restituisce le risorse e i tipi di blocco coinvolti in un deadlock nonché il comando corrente interessato in un formato XML non conforme ad alcuno schema XSD. Per altre informazioni sui deadlock, vedere [Guida per il controllo delle versioni delle righe e il blocco della transazione](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlocks).<br /><br />**Nota:** evitare di usare il flag di traccia 1222 in sistemi con carichi di lavoro intensivi che causano deadlock. Per altre informazioni su altri metodi di rilevamento dei deadlock, vedere [Guida al blocco delle transazioni e al controllo delle versioni delle righe](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlock_detection).<br /><br />**Ambito**: solo globale|  
|**1224**|Disabilita l'escalation di blocchi in base al numero di blocchi. L'escalation blocchi, tuttavia, può comunque essere attivata dal numero di richieste di memoria. Il [!INCLUDE[ssDE](../../includes/ssde-md.md)] alza di livello i blocchi di riga o di pagina in blocchi di tabella (o partizione) se la quantità di memoria utilizzata dagli oggetti blocco supera uno dei valori seguenti:<br /><ul><li>Quaranta percento della memoria utilizzata da [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Questa condizione è applicabile solo quando il parametro **locks** di sp_configure è impostato su 0. <li>40% della memoria dei blocchi configurata mediante il parametro **locks** di sp_configure. Per altre informazioni, vedere [Opzioni di configurazione del server &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md)sia installato il servizio WMI.</li></ul><br />Se sono impostati entrambi i flag di traccia 1211 e 1224, 1211 ha la precedenza rispetto a 1224. Tuttavia, poiché il flag di traccia 1211 impedisce l'innalzamento di livello in ogni caso, anche in caso di sovraccarico nella memoria, è consigliabile utilizzare il flag 1224. In questo modo è possibile evitare errori determinati dal superamento del numero di blocchi consentito quando vengono utilizzati numerosi blocchi.<br /><br />**Nota:** è possibile controllare l'escalation blocchi nella tabella o la granularità di livello HoBT usando l'opzione LOCK_ESCALATION dell'istruzione [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md).<br /><br />Per altre informazioni su come risolvere i problemi di blocco causati dall'escalation blocchi in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/323630)<br /><br />**Ambito:** globale o sessione|
|**1229**|Disabilita tutto il partizionamento dei blocchi indipendentemente dal numero di CPU. Per impostazione predefinita, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] abilita il partizionamento dei blocchi quando un server ha 16 o più CPU per migliorare le caratteristiche di scalabilità dei sistemi più complessi. Per altre informazioni sul partizionamento dei blocchi, vedere la [Guida per il controllo delle versioni delle righe e il blocco della transazione](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#lock_partitioning).<br /><br />**AVVISO:** il flag di traccia 1229 può causare contese di spinlock e prestazioni insufficienti.<br /><br />**Ambito**: solo globale|  
|**1236**|Abilita il partizionamento dei blocchi di database. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2926217).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 questo comportamento è controllato dal motore e il flag di traccia 1236 non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**1237**|Consente all'istruzione ALTER PARTITION FUNCTION di rispettare la proprietà del deadlock di sessione definito dall'utente corrente anziché essere la probabile vittima del deadlock per impostazione predefinita. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4025261).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] e dal [livello di compatibilità](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) 140 del database questo comportamento è predefinito e il flag di traccia 1237 non ha alcun effetto.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**1260**|Disabilita i dump di monitoraggio dell'utilità di pianificazione.<br /><br />**Ambito**: solo globale|   
|**1448**|Consente alla lettura del log di replica di andare avanti anche se i database secondari asincroni non hanno riconosciuto il ricevimento di una modifica. Anche con questo flag di traccia abilitato la lettura del log attende sempre i database secondari sincroni. La lettura log non andrà oltre il riconoscimento minimo dei database secondari sincroni. Questo flag di traccia si applica all'istanza di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], non solo a un gruppo di disponibilità, a un database di disponibilità o a un'istanza di lettura log. Diventa immediatamente effettiva senza un riavvio. È possibile attivare questo flag di traccia anticipatamente o quando un database secondario asincrono genera un errore. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/937041).<br /><br />**Ambito**: solo globale|   
|**1462**|Disabilita la compressione dei flussi di log per i gruppi di disponibilità asincroni. Questa funzionalità è abilitata per impostazione predefinita nei gruppi di disponibilità asincroni per ottimizzare la larghezza di banda di rete. Per altre informazioni, vedere [Tune compression for availability group (Ottimizzare la compressione per il gruppo di disponibilità)](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Ambito**: solo globale| 
|**1800**|Abilita l'ottimizzazione di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quando vengono usati dischi con dimensioni di settore diverse per i file di log di replica primaria e secondaria negli ambienti Always On e di log shipping di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Questo flag di traccia deve essere abilitato solo nelle istanze di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] con file di log delle transazioni che risiede in un disco con dimensioni di settore di 512 byte. **Non** è necessario che venga abilitato su un disco con dimensioni di settore di 4 KB. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3009974).<br /><br />**Nota:** Questo flag di traccia si applica a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP1 CU13, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP2 CU3, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM CU5 e versioni successive.<br /><br />**Ambito:** solo globale|
| **1819**| Consente di [eseguire il backup in URL](../../relational-databases/backup-restore/sql-server-backup-to-url.md) per usare un server proxy nell'accesso ai BLOB in blocchi di Azure. Oltre a questo flag di traccia, è necessario impostare la configurazione del proxy WinHTTP sul server tramite uno dei metodi seguenti: <br /><br />- L'utility [proxycfg.exe](/windows/win32/winhttp/proxycfg-exe--a-proxy-configuration-tool) in Windows XP o Windows Server 2003 e versioni precedenti. <br /> - L'utility [netsh.exe](/windows/win32/winsock/netsh-exe) in Windows Vista e Windows Server 2008 o versioni successive. <br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON) |
|**1802**|Disabilita la modifica dell'ACL e la verifica dell'accesso rappresentato durante le operazioni di collegamento o scollegamento del database. Ciò può essere utile quando si connette un database e si verificano errori di autorizzazione di accesso, ad esempio l'errore 5120.<br /><br />**Ambito**: solo globale| 
|**2301**|Abilitare le ottimizzazioni avanzate del supporto decisionale specifiche per le query di supporto decisionale. Questa opzione si applica all'elaborazione del supporto decisionale per set di dati di grandi dimensioni.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON) |
|**2312**|Imposta il modello di stima della cardinalità di Query Optimizer in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] e versioni successive a seconda del livello di compatibilità del database.<br /><br />**Nota:** se il livello di compatibilità del database è inferiore a 120, l'abilitazione del flag di traccia 2312 determina l'uso del modello di stima della cardinalità di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] (120). Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_DEFAULT_CARDINALITY_ESTIMATION' anziché usare questo flag di traccia.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)| 
|**2335**|Fa in modo che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] presupponga la disponibilità di una quantità fissa di memoria durante l'ottimizzazione della query, per uno scenario in cui l'opzione di [configurazione del server max server memory](../../database-engine/configure-windows/server-memory-server-configuration-options.md) è impostata su un valore troppo elevato, causando la generazione di un piano inefficiente per una query specifica in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Non limita la memoria che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] concede per l'esecuzione della query. La memoria configurata per [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] verrà comunque usata per la cache dei dati, l'esecuzione di query e altri consumer.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**2340**|Fa in modo che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] non usi un'operazione di ordinamento (ordinamento batch) per i join a cicli annidati ottimizzati durante la generazione di un piano. Per impostazione predefinita, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] può usare un join a cicli annidati ottimizzato anziché un'analisi completa o un join a cicli annidati con un ordinamento esplicito, quando Query Optimizer conclude che probabilmente un ordinamento non è necessario, ma è comunque una possibilità nel caso in cui la cardinalità o le stime dei costi non siano corrette. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2009160).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZED_NESTED_LOOP' anziché usare questo flag di traccia.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**2371**|Cambia la soglia di aggiornamento delle statistiche fissa in una soglia di aggiornamento delle statistiche lineare. Per altre informazioni, vedere l'[opzione AUTO_UPDATE_STATISTICS](../../relational-databases/statistics/statistics.md#auto_update_statistics-option).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] e nel [livello di compatibilità del database](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130 o superiore questo comportamento è controllato dal motore e il flag di traccia 2371 non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**2389**|Abilita le statistiche rapide generate automaticamente per le chiavi in ordine crescente (modifica istogramma). Se è impostato il flag di traccia 2389 e una colonna iniziale delle statistiche è contrassegnata con ordine crescente, l'istogramma usato per la stima della cardinalità verrà modificato in fase di compilazione di query. <br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica alla versione CE 120 o versioni successive. In alternativa, usare il flag di traccia 4139.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**2390**|Abilita le statistiche rapide generate automaticamente per le chiavi in ordine crescente o sconosciuto (modifica istogramma). Se è impostato il flag di traccia 2390 e una colonna iniziale delle statistiche è contrassegnata con ordine crescente o sconosciuto, l'istogramma usato per la stima della cardinalità verrà modificato in fase di compilazione di query. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica alla versione CE 120 o versioni successive. In alternativa, usare il flag di traccia 4139.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**2422**|Consente al [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] di interrompere una richiesta quando viene superato il tempo massimo impostato dalla configurazione REQUEST_MAX_CPU_TIME_SEC di Resource Governor. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4038419).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP2, a [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 e alle build successive.<br /><br />**Ambito**: globale|
|**2430**|Abilita la pulizia della classe di blocco. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2754301).<br /><br />**Ambito**: solo globale| 
|**2451**|Abilita l'equivalente dell'ultimo piano di esecuzione effettivo in sys.dm_exec_query_plan_stats.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e build successive.<br /><br />**Nota:** a partire da [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], per eseguire questa operazione a livello di database, vedere l'opzione LAST_QUERY_PLAN_STATS in [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Ambito**: solo globale|  
|**2453**|Consente a una variabile di tabella di attivare la ricompilazione quando viene modificato un numero sufficiente di righe. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2952444).<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**2467**|Abilita un criterio di allocazione di thread di lavoro paralleli alternativi, in base al nodo con meno thread allocati. Per altre informazioni, vedere [Elaborazione parallela di query](../../relational-databases/query-processing-architecture-guide.md#parallel-query-processing). Fare riferimento a [Configurare l'opzione di configurazione del server max worker threads](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md) per informazioni su come configurare l'opzione del server max worker threads.<br /><br />**Nota:** il grado di parallelismo della query deve rientrare in un singolo nodo per poter usare questo criterio alternativo. In caso contrario viene usato il criterio di allocazione dei thread predefinito. Quando si usa questo flag di traccia non è consigliabile eseguire le query specificando un grado di parallelismo superiore al numero di utilità di pianificazione in un singolo nodo, perché ciò potrebbe interferire con le query che specificano un grado di parallelismo inferiore o uguale al numero di utilità di pianificazione in un singolo nodo.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: solo globale|
|**2469**|Consente lo scambio alternato per `INSERT INTO ... SELECT` in un indice columnstore partizionato. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3204769).<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**2528**|Disabilita il controllo parallelo di oggetti eseguito da DBCC CHECKDB, DBCC CHECKFILEGROUP e DBCC CHECKTABLE. Per impostazione predefinita, il grado di parallelismo viene determinato automaticamente da Query Processor. Il grado massimo di parallelismo viene configurato come quello delle query parallele. Per altre informazioni, vedere [Configurare l'opzione di configurazione del server max degree of parallelism](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Nota:** i controlli DBCC paralleli devono in genere essere abilitati (impostazione predefinita). Query Processor rivaluta e regola automaticamente il parallelismo per ogni tabella o batch di tabelle controllato tramite DBCC CHECKDB.<br /><br />Nello scenario di utilizzo tipico un amministratore di sistema prevede l'incremento del carico del server prima del completamento di DBCC CHECKDB e di conseguenza sceglie di ridurre o disabilitare manualmente il parallelismo per aumentare la concorrenza con il carico di lavoro di un altro utente. La disabilitazione dei controlli paralleli in DBCC CHECKDB, tuttavia, potrebbe aumentare il tempo necessario per il completamento.<br /><br />**Nota:** se DBCC CHECKDB viene eseguito usando l'opzione TABLOCK e il parallelismo viene disabilitato, è possibile che le tabelle rimangano bloccate per periodi di tempo più lunghi.<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 è disponibile un'opzione MAXDOP per l'override dell'opzione di configurazione del massimo grado di parallelismo di sp_configure per le istruzioni DBCC.<br /><br />**Ambito**: globale o sessione|
|**2549**|Forza il comando DBCC CHECKDB a presupporre che ogni file di database si trovi in un'unità disco univoca ma considerando i diversi file fisici come un unico file logico. Il comando DBCC CHECKDB compila un elenco interno di pagine da leggere per ogni unità disco univoco in tutti i file di database. Questa logica individua le unità disco univoco in base alla lettera di unità del nome file fisico di ogni file.<br /><br />**Nota:** non usare questo flag di traccia se non si è certi che ogni file sia basato su un'unità disco univoco.<br /><br />**Nota:** sebbene questo flag di traccia migliori le prestazioni dei comandi DBCC CHECKDB destinati all'utilizzo dell'opzione PHYSICAL_ONLY, è possibile che alcuni utenti non sperimentino alcun miglioramento nelle prestazioni. Sebbene questo flag di traccia migliori l'utilizzo delle risorse di I/O del disco, le prestazioni sottostanti delle risorse disco possono limitare le prestazioni complessive del comando DBCC CHECKDB. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2634571).<br /><br />**Ambito**: solo globale| 
|**2562**|Esegue il comando DBCC CHECKDB in un "batch" singolo indipendentemente dal numero di indici nel database. Per impostazione predefinita, il comando DBCC CHECKDB tenta di ridurre al minimo le risorse di TempDB limitando il numero di indici o "fatti" generati tramite l'uso di un concetto di "batch". Ma questo flag di traccia forza tutta l'elaborazione in un unico batch.<br /><br />Un effetto dell'uso di questo flag di traccia è il possibile aumento dei requisiti di spazio di TempDB. TempDB può arrivare a occupare fino al 5% o più del database utente elaborato dal comando DBCC CHECKDB.<br /><br />**Nota:** sebbene questo flag di traccia migliori le prestazioni dei comandi DBCC CHECKDB destinati all'utilizzo dell'opzione PHYSICAL_ONLY, è possibile che alcuni utenti non sperimentino alcun miglioramento nelle prestazioni. Sebbene questo flag di traccia migliori l'utilizzo delle risorse di I/O del disco, le prestazioni sottostanti delle risorse disco possono limitare le prestazioni complessive del comando DBCC CHECKDB. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2634571).<br /><br />**Ambito**: solo globale|
|**2566**|Esegue il comando DBCC CHECKDB senza il controllo di integrità dei dati a meno che non venga specificata l'opzione `DATA_PURITY`.<br /><br />**Nota:** I controlli di integrità dei valori di colonna sono abilitati per impostazione predefinita e non richiedono l'opzione DATA_PURITY. Per i database aggiornati da versioni precedenti di SQL Server, i controlli dei valori di colonna non sono abilitati per impostazione predefinita fino a quando `DBCC CHECKDB WITH DATA_PURITY` non viene eseguito senza errori nel database almeno una volta. A questo punto, DBCC CHECKDB controlla l'integrità dei valori di colonna per impostazione predefinita. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/945770).<br /><br />**Ambito**: solo globale|
|**2592**|<a name="2592"></a>Abilita la risoluzione dei simboli nei dump dello stack quando vengono installati gli *strumenti di debug per Windows*. Se ad esempio si usa il flag di traccia 3656, è necessario che sia abilitato il flag di traccia 2592. <br /><br />**AVVISO:** questo flag è per tracciare il debug e non è destinato all'ambiente di produzione.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e build successive. <br/><br/>**Ambito**: globale e sessione|
|**3023**|Abilita l'opzione CHECKSUM come impostazione predefinita per il comando BACKUP. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2656988).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] questo comportamento è controllato dall'impostazione dell'opzione di configurazione **backup checksum default**. Per altre informazioni, vedere [Opzioni di configurazione del server &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md)sia installato il servizio WMI.<br /><br />**Ambito**: globale e sessione|
|**3042**|Ignora l'algoritmo di preallocazione di compressione di backup predefinito per consentire l'aumento del file di backup solo di quanto necessario per raggiungere le relative dimensioni finali. Questo flag di traccia è utile se è necessario risparmiare spazio allocando solo le dimensioni effettive necessarie per il backup compresso. L'utilizzo di questo flag di traccia può comportare un effetto leggermente negativo sulle prestazioni, vale a dire un possibile aumento della durata dell'operazione di backup. Per altre informazioni sull'algoritmo di preallocazione, vedere [Compressione dei backup &#40;SQL Server&#41;](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Ambito**: solo globale|
|**3051**|Abilita la registrazione dei backup in URL di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] in un file del log degli errori specifico. Per altre informazioni, vedere [Procedure consigliate e risoluzione dei problemi per il backup di SQL Server nell'URL](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Ambito**: solo globale|  
|**3205**|Per impostazione predefinita, se un'unità nastro supporta la compressione hardware, l'istruzione DUMP o BACKUP applica questo tipo di compressione. Questo flag di traccia consente di disabilitare la compressione hardware per le unità nastro e risulta utile quando si desidera scambiare nastri con altri siti oppure unità nastro che non supportano la compressione.<br /><br />**Ambito**: globale o sessione|  
|**3226**|Per impostazione predefinita, per ogni operazione di backup eseguita in modo corretto viene aggiunta una voce al log degli errori di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] e al registro eventi di sistema. Se il backup del log viene eseguito di frequente, questi messaggi possono aumentare rapidamente, provocando la creazione di log degli errori di dimensioni elevate e rendendo difficile l'individuazione di altri messaggi.<br /><br />Grazie a questo flag di traccia, è possibile eliminare queste voci di log. Questo risulta utile se si eseguono backup del log frequenti e se nessuno degli script dipende da tali voci.<br /><br />**Ambito**: solo globale|   
|**3427**|Abilita la risoluzione dei problemi quando più transazioni consecutive che inseriscono dati in tabelle temporanee in [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] usano maggiormente la CPU rispetto all'inserimento in [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/3216543)<br /><br />**Nota:** questo flag di traccia si applica da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1 CU2 a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP2 CU2. A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP2 CU3 [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] questo flag di traccia non ha alcun effetto.<br /><br />**Ambito**: solo globale|  
|**3459**|Disabilita il rollforward parallelo. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/3200975) e [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4101554).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)], [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] e build successive.<br /><br />**Ambito**: solo globale| 
|**3468**|Disabilita i [checkpoint indiretti](../../relational-databases/logs/database-checkpoints-sql-server.md#IndirectChkpt) in TempDB.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1 CU5, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU1 e alle build successive.<br /><br />**Ambito**: solo globale|  
|**3605**|<a name="3605"></a>Reindirizza i messaggi di traccia al log degli errori di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Se ad esempio si usano il flag di traccia 205 e 8721, è necessario che sia abilitato il flag di traccia 3605.<br /><br />**AVVISO:** questo flag è per tracciare il debug e non può essere abilitato continuamente in ambiente di produzione.<br /><br />**Ambito**: globale o sessione|  
|**3608**|Impedisce l'avvio e il recupero automatico dei database ad eccezione del database **master** in [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Se vengono avviate attività che richiedono **TempDB**, viene recuperato il database **model** e viene creato il database **TempDB**. Gli altri database verranno avviati e recuperati al momento dell'accesso. Alcune funzionalità, ad esempio l'isolamento dello snapshot e lo snapshot Read committed, potrebbero non funzionare. Usare per [spostare i database di sistema](../../relational-databases/databases/move-system-databases.md) e [spostare i database utente](../../relational-databases/databases/move-user-databases.md).<br /><br />**Nota:** evitare l'uso durante il normale funzionamento.<br /><br />**Ambito**: solo globale|   
|**3625**|Limita la quantità di informazioni restituite agli utenti che non sono membri del ruolo predefinito del server sysadmin mascherando i parametri di alcuni messaggi di errore tramite '\*\*\*\*\*\*'. In questo modo è possibile impedire la divulgazione di informazioni riservate.<br /><br />**Ambito**: solo globale|  
|**3656**|Consente la risoluzione dei simboli nel dump dello stack quando vengono installati gli strumenti di debug per Windows. <br /><br />**AVVISO:** questo flag è per tracciare il debug e non è destinato all'ambiente di produzione.<br /><br />**Nota:** A partire da [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], il flag di traccia [2592](#2592) deve essere abilitato insieme al flag di traccia 3656 per abilitare la risoluzione dei simboli. <br/><br/>**Ambito**: globale e sessione|
|**3924**|Consente la rimozione automatica di transazioni DTC orfane con SPID=-2, che rappresenta un problema per alcuni strumenti di monitoraggio delle transazioni di terze parti. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4519668) e [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4511816).<br /><br />**Ambito**: solo globale|  
|**4022**|Disabilita l'esecuzione automatica di stored procedure all'avvio di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Per altre informazioni sull'esecuzione automatica di stored procedure di avvio, vedere [sp_procoption](../../relational-databases/system-stored-procedures/sp-procoption-transact-sql.md) <br /><br />**Ambito**: solo globale|  
|**4136**|Disabilita l'analisi dei parametri, a meno che non venga usata OPTION(RECOMPILE), WITH RECOMPILE o OPTIMIZE FOR \<value>. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/980653).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)], per eseguire questa operazione a livello di database, vedere l'opzione PARAMETER_SNIFFING in [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Per ottenere lo stesso risultato a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) OPTIMIZE FOR UNKNOWN. L'hint OPTIMIZE FOR UNKNOWN non disabilita il meccanismo di analisi dei parametri, ma lo ignora efficacemente per ottenere lo stesso risultato previsto.<br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, una seconda opzione per eseguire questa operazione a livello di query consiste nell'aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_PARAMETER_SNIFFING' anziché usare il flag di traccia.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale o sessione|  
|**4137**|Fa in modo che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] generi un piano che usa la selettività minima durante la stima dei predicati AND per i filtri in modo da tenere conto della correlazione parziale invece dell'indipendenza nel modello di stima della cardinalità di Query Optimizer di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e versioni precedenti (70). Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2658214).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' anziché usare questo flag di traccia quando si usa la versione CE 70.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica alla versione CE 120 o versioni successive. In alternativa, usare il flag di traccia 9471.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)| 
|**4138**|Fa in modo che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] generi un piano in cui non vengono usate le rettifiche degli obiettivi di riga con query contenenti le parole chiave TOP, OPTION (FAST N), IN o EXISTS. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2667211).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZER_ROWGOAL' anziché usare il flag di traccia.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)| 
|**4139**|Abilita le statistiche rapide generate automaticamente (modifica istogramma) indipendentemente dallo stato della colonna chiave. Se è impostato il flag di traccia 4139, indipendentemente dallo stato della colonna iniziale delle statistiche (crescente, decrescente o fisso), l'istogramma usato per la stima della cardinalità viene modificato in fase di compilazione di query. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2952101).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS' anziché usare il flag di traccia.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica a CE versione 70. In alternativa, usare i flag di traccia 2389 e 2390.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**4199**|<a name="4199"></a>Abilita le correzioni di Query Optimizer (QO) rilasciate negli aggiornamenti cumulativi e nei Service Pack di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />Le modifiche di Query Optimizer apportate alle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sono abilitate per impostazione predefinita nel [livello di compatibilità](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) del database più recente di una determinata versione del prodotto, senza che venga abilitato il flag di traccia 4199.<br /><br />La tabella seguente riepiloga il comportamento eseguito quando vengono usati livelli di compatibilità del database specifici e il flag di traccia 4199. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Versione del motore di database**</td><td>**Livello di compatibilità del database**</td><td>**TF 4199**</td><td>**Modifiche di Query Optimizer da tutti i livelli di compatibilità del database precedenti**</td><td>**Modifiche di Query Optimizer per la versione del motore di database successiva alla versione RTM**</td></tr><tr valign="middle" align="center"><td rowspan="4">**13** ([!INCLUDE[ssSQL15](../../includes/sssql16-md.md)])</td><td rowspan="2">**Da 100 a 120**</td><td>Disattivato</td><td>Disabled</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr><tr valign="middle" align="center"><td rowspan="2">**130** (impostazione predefinita)</td><td>Disattivato</td><td>Attivato</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr><tr valign="middle" align="center"><td rowspan="6">**14** ([!INCLUDE[ssSQL17](../../includes/sssql17-md.md)])</td><td rowspan="2">**Da 100 a 120**</td><td>Disattivato</td><td>Disabled</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Disattivato</td><td>Attivato</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr><tr valign="middle" align="center"><td rowspan="2">**140** (impostazione predefinita)</td><td>Disattivato</td><td>Attivato</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr><tr valign="middle" align="center"><td rowspan="6">**15** ([!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)]) e **12** ([!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)])</td><td rowspan="2">**Da 100 a 120**</td><td>Disattivato</td><td>Disabled</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr><tr valign="middle" align="center"><td rowspan="2">**Da 130 a 140**</td><td>Disattivato</td><td>Attivato</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr><tr valign="middle" align="center"><td rowspan="2">**150** (impostazione predefinita)</td><td>Disattivato</td><td>Attivato</td><td>Disabled</td></tr><tr valign="middle" align="center"><td>Attivato</td><td>Attivato</td><td>Attivato</td></tr></table><br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)], per eseguire questa operazione a livello di database vedere l'opzione QUERY_OPTIMIZER_HOTFIXES in [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_QUERY_OPTIMIZER_HOTFIXES' anziché usare il flag di traccia.<br /><br />**Importante:** Le correzioni di Query Optimizer che risolvono errori relativi a risultati non corretti o di violazione dell'accesso non sono abilitate dal flag di traccia 4199. Tali correzioni non sono considerate facoltative e vengono abilitate per impostazione predefinita dopo l'installazione dell'aggiornamento.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**4610**|Aumenta la dimensione della tabella hash che memorizza le voci della cache di un fattore 8. Quando usato con il flag di traccia 4618 aumenta il numero di voci nell'archivio cache TokenAndPermUserStore a 8.192. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/959823) e questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/955644).<br /><br />**Ambito:** solo globale|
|**4616**|Viene garantita la visibilità dei metadati a livello di server per i ruoli applicazione. In [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], poiché i ruoli applicazione non sono associati a un'entità a livello di server, un ruolo applicazione non può accedere a metadati all'esterno del database corrispondente, diversamente da quanto consentito nelle versioni precedenti di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Impostando questo flag globale vengono disabilitate le nuove restrizioni e viene consentito ai ruoli applicazione di accedere ai metadati a livello di server.<br /><br />**Ambito**: solo globale|
|**4618**|Limita il numero di voci nell'archivio cache TokenAndPermUserStore a 1.024. Quando usato con il flag di traccia 4610 aumenta il numero di voci nell'archivio cache TokenAndPermUserStore a 8.192. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/959823).<br /><br />**Ambito:** solo globale|
|**4621**|Limita il numero di voci nell'archivio della cache TokenAndPermUserStore al numero specificato dall'utente in una chiave del Registro di sistema. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/959823).<br /><br />**Ambito:** solo globale|
|**5004**|Sospende l'analisi della crittografia TDE e causa la chiusura dell'elemento di lavoro di analisi della crittografia senza eseguire alcuna operazione. Lo stato del database continuerà a indicare la crittografia in corso. Per riprendere l'analisi della ripetizione della crittografia, disabilitare il flag di traccia 5004 ed eseguire ALTER DATABASE <database_name> SET ENCRYPTION ON. <br /><br />**Ambito:** solo globale|
|**6498**|Consente a più di una compilazione di query di grandi dimensioni di accedere al gateway di grandi dimensioni quando è disponibile memoria sufficiente. È possibile usare questo flag di traccia per tenere sotto controllo l'uso della memoria per la compilazione delle query in ingresso, evitando attese di compilazione per le query simultanee che includono numerosi elementi. È basato su 80% di memoria di destinazione di SQL Server e consente una compilazione di query di grandi dimensioni ogni 25 GB di memoria. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3024815).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 e [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è controllato dal motore e il flag di traccia 6498 non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**6527**|Disabilita la generazione di un dump di memoria alla prima occorrenza di un'eccezione di memoria insufficiente nell'integrazione con CLR. Per impostazione predefinita, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] genera un dump di memoria di dimensioni ridotte alla prima occorrenza di un'eccezione di memoria insufficiente in CLR. Il comportamento del flag di traccia è il seguente:<br /><ul><li>Se utilizzato come flag di traccia di avvio, un dump di memoria non viene mai generato. Un dump di memoria può essere generato tuttavia se vengono utilizzati altri flag di traccia. <li>Se il flag di traccia è abilitato in un server in esecuzione, un dump di memoria non verrà generato automaticamente da tale punto in poi. Tuttavia, se un dump di memoria è già stato generato a causa di un'eccezione di memoria insufficiente in CLR, questo flag di traccia non avrà alcun effetto.</li></ul><br />**Ambito**: solo globale|
|**6532**|Abilita il miglioramento delle prestazioni delle operazioni di query con tipi di dati spaziali in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Il miglioramento delle prestazioni varia a seconda della configurazione, dei tipi di query e degli oggetti. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è controllato dal motore e il flag di traccia 6532 non ha alcun effetto.<br /><br />**Ambito**: globale e sessione|
|**6533**|Abilita il miglioramento delle prestazioni delle operazioni di query con tipi di dati spaziali in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Il miglioramento delle prestazioni varia a seconda della configurazione, dei tipi di query e degli oggetti. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è controllato dal motore e il flag di traccia 6533 non ha alcun effetto.<br /><br />**Ambito**: globale e sessione| 
|**6534**|Abilita il miglioramento delle prestazioni delle operazioni di query con tipi di dati spaziali in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] e [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)]. Il miglioramento delle prestazioni varia a seconda della configurazione, dei tipi di query e degli oggetti. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Ambito**: solo globale|   
|**6545**|Abilitare CLR Strict Security. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4018930).<br /><br />**Nota:** Questo flag di traccia si applica a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 CU10, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 CU6, [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] RTM CU7, [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1 CU4 e versioni successive. A partire da [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] questa funzionalità è abilitata per impostazione predefinita e il flag di traccia 6545 non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**7314**|Fa in modo che i valori NUMBER con precisione/scala sconosciuta vengano considerati come valori doppi con il provider OLE DB. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3051993).<br /><br />**Ambito**: globale e sessione|  
|**7412**|Abilita l'infrastruttura di profilatura delle statistiche di esecuzione di query lightweight. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3170113).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1 e alle build successive. A partire da [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] questo flag di traccia non ha effetto, perché la profilatura leggera è abilitata per impostazione predefinita.<br /><br />**Ambito**: solo globale|
|**7470**|Abilita calcoli aggiuntivi per le concessioni di memoria necessarie per le operazioni di ordinamento. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3088480).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP2 CU8, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM CU10, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 CU3 e alle build successive.<br /><br />**AVVISO:** il flag di traccia 7470 aumenterà i requisiti di memoria per le query che usano gli operatori di ordinamento e potrebbe avere un effetto sulla disponibilità della memoria per altre query concorrenti.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**7471**|Consente di eseguire contemporaneamente più [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) per diverse statistiche in una singola tabella. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3156157).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 e alle build successive.<br /><br />**Ambito**: solo globale|
|**7745**|Impedisce a Query Store di scaricare i dati su disco all'arresto del database.<br /><br />**Nota:** l'uso di questa traccia può causare la perdita dei dati di Query Store non scaricati precedentemente su disco in caso di arresto. Per un arresto di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], è possibile usare il comando SHUTDOWN WITH NOWAIT anziché questo flag di traccia per forzare un arresto immediato.<br /><br />**Ambito**: solo globale|
|**7752**|Abilita il caricamento asincrono di Query Store.<br /><br />**Nota:** usare questo flag di traccia se in [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] si verifica un numero elevato di attese QDS_LOADDB correlate al caricamento sincrono di Query Store (comportamento predefinito durante il ripristino di database).<br /><br />**Nota:** A partire da [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] questo comportamento è controllato dal motore e il flag di traccia 7752 non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**7806**|Abilita una connessione amministrativa dedicata (DAC, Dedicated Administrator Connection) in [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Per impostazione predefinita, nessuna risorsa dell'applicazione livello dati è riservata in [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Per altre informazioni, vedere [Connessione di diagnostica per gli amministratori di database](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Ambito**: solo globale|  
|**8011**|Disabilitare il buffer circolare per Monitoraggio risorse. È possibile usare le informazioni di diagnostica in questo buffer circolare per diagnosticare le condizioni di memoria insufficiente. Se quindi si usa questo flag di traccia, le informazioni disponibili per la diagnosi di problemi di prestazioni e funzionali con [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] risultano notevolmente ridotte. Il flag di traccia 8011 si applica sempre all'interno del server e ha un ambito globale. È possibile attivare il flag di traccia 8011 all'avvio o in una sessione utente.<br /><br />**Ambito**: globale|
|**8012**|Disabilitare il buffer circolare per le utilità di pianificazione. [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] registra un evento nel buffer circolare della pianificazione ogni volta che si verifica uno degli eventi seguenti: <br/> - Un'utilità di pianificazione passa il contesto a un altro ruolo di lavoro <br/> - Un ruolo di lavoro è sospeso <br/> - Un ruolo di lavoro viene ripreso <br/> - Un ruolo di lavoro passa alla modalità preemptive o alla modalità non preemptive. <br/><br/> È possibile usare le informazioni di diagnostica in questo buffer circolare per analizzare i problemi di pianificazione. È ad esempio possibile usare le informazioni in questo buffer circolare per risolvere i problemi quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] smette di rispondere. Il flag di traccia 8012 disabilita la registrazione degli eventi per le utilità di pianificazione. È possibile attivare il flag di traccia 8012 solo all'avvio.<br /><br />**AVVISO:** Quando si usa questo flag di traccia, le informazioni disponibili per la diagnosi di problemi di prestazioni e funzionali con [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] risultano notevolmente ridotte.<br /><br />**Ambito**: solo globale|
|**8015**|Disabilitare il rilevamento automatico e la configurazione NUMA. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2813214).<br /><br />**Ambito**: solo globale|
|**8018**|Disabilitare il buffer circolare delle eccezioni. Il buffer circolare delle eccezioni registra le ultime 256 eccezioni generate in un nodo. Ogni record contiene alcune informazioni sull'errore e un'analisi dello stack. Quando viene generata un'eccezione, viene aggiunto un record al buffer circolare. Il flag di traccia 8018 disabilita la creazione del buffer circolare e non vengono registrate informazioni sulle eccezioni. Il flag di traccia 8019 disabilita la raccolta dello stack durante la creazione del record. <br /><br />**AVVISO:** Quando si usa questo flag di traccia, le informazioni disponibili per la diagnosi di problemi di prestazioni e funzionali con [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] risultano notevolmente ridotte. <br /><br />**Ambito**: solo globale|
|**8019**|Disabilitare la raccolta di stack per il buffer circolare delle eccezioni. Il flag di traccia 8019 non ha alcun effetto se il flag di traccia 8018 è attivato.<br /><br />**AVVISO:** Quando si usa questo flag di traccia, le informazioni disponibili per la diagnosi di problemi di prestazioni e funzionali con [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] risultano notevolmente ridotte.<br /><br />**Ambito**: solo globale|
|**8020**|Disabilitare il monitoraggio dei working set. [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] usa le dimensioni del working set quando riceve segnali di stato della memoria globale dal sistema operativo. Il flag di traccia 8020 rimuove la dimensione della memoria del working set dalla valutazione quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] interpreta i segnali di stato della memoria globale. Se si usa questo flag di traccia in modo errato, potrebbe verificarsi un notevole paging e le prestazioni potrebbero essere scadenti. Contattare quindi il supporto tecnico Microsoft prima di attivare il flag di traccia 8020. È possibile attivare il flag di traccia 8020 solo all'avvio. <br /><br />**Ambito**: solo globale|
|**8032**|Vengono ripristinati i parametri dei limiti di cache all'impostazione RTM di [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] che consente, in generale, di aumentare le dimensioni delle cache. Usare questa impostazione quando le voci della cache riutilizzate di frequente non rientrano nella cache e quando non è possibile [ottimizzare per l'opzione di configurazione del server dei carichi di lavoro a hoc](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) per risolvere il problema della cache dei piani.<br /><br />**AVVISO:** Il flag di traccia 8032 può provocare prestazioni ridotte se cache di grandi dimensioni rendono disponibile meno memoria per altri consumer di memoria, ad esempio il pool di buffer.<br /><br />**Ambito**: solo globale|   
|**8048**|Converte gli oggetti di memoria partizionata NUMA in CPU partizionata. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2809338).<br /><br />**Nota:** A partire da [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 e [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è dinamico e controllato dal motore.<br /><br />**Ambito**: solo globale|  
|**8075**|Riduce la frammentazione dello [spazio indirizzi virtuali](../../relational-databases/memory-management-architecture-guide.md#changes-to-memory-management-starting-2012-11x-gm) quando si ricevono errori di allocazione di pagine di memoria in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] o [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] a 64 bit. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3074434).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM CU10 e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 CU3. A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è controllato dal motore e il flag di traccia 8075 non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**8079**|Consente a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 di interrogare il layout hardware e configurare automaticamente Soft-NUMA sui sistemi che segnalano 8 o più CPU per ogni nodo NUMA. Il comportamento Soft-NUMA automatico supporta l'hyperthreading (HT/processore logico). Il partizionamento e la creazione di nodi aggiuntivi ridimensionano l'elaborazione in background aumentando il numero di listener tramite scalabilità e le funzionalità di crittografia e di rete.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2. A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] questo comportamento è controllato dal motore e il flag di traccia 8079 non ha alcun effetto.<br /><br />**Ambito**: solo globale| 
|**8099**|Abilita una correzione per la contesa di spinlock per i sistemi di fascia alta che eseguono [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e servono molti utenti simultanei.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] CU2 eCU3. A partire da [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] CU4, questo comportamento è abilitato per impostazione predefinita. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4538688).<br /><br />**Ambito**: solo globale| 
|**8207**|Abilita aggiornamenti singleton per la replica transazionale e CDC. Gli aggiornamenti dei sottoscrittori possono essere replicati come coppia di DELETE e INSERT. Ciò potrebbe non soddisfare le regole business, ad esempio l'attivazione di un trigger UPDATE. Con il flag di traccia 8207, l'aggiornamento di una colonna univoca che interessa solo una riga (aggiornamento singleton) viene replicato come UPDATE e non come coppia DELETE o INSERT. Se l'aggiornamento riguarda una colonna in cui esiste un vincolo univoco oppure interessa più righe, viene replicato ancora come coppia DELETE o INSERT. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/302341).<br /><br />**Ambito**: solo globale|
|**8721**|Indica nel log degli errori l'esecuzione delle statistiche di aggiornamento automatico. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/195565).<br /><br />**Nota:** questo flag di traccia richiede l'abilitazione del flag di traccia [3605](#3605).<br /><br />**Ambito**: solo globale|
|**8744**|Disabilitare la prelettura per l'operatore [Nested Loop](../../relational-databases/performance/joins.md#nested_loops).<br /><br />**AVVISO:** l'uso errato di questo flag di traccia può causare l'esecuzione di letture fisiche aggiuntive quando [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] esegue piani che contengono l'operatore Nested Loops.<br /><br />**Ambito**: globale e sessione|
|**9024**|Converte un oggetto di memoria del pool di log globale in oggetto di memoria partizionata del nodo NUMA. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2809338).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 questo comportamento è controllato dal motore e il flag di traccia 9024 non ha alcun effetto.<br /><br />**Ambito**: solo globale|
|**9347**|Disabilita la modalità batch per l'operatore Sort. [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] ha introdotto un nuovo operatore Sort in modalità batch che migliora le prestazioni per molte query analitiche. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3172787).<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9348**|Abilita l'uso delle stime della cardinalità di Query Optimizer per decidere se deve essere avviata o meno un'istruzione BULK INSERT per un indice columnstore cluster. Se il numero stimato di righe da inserire è minore di 102.400, il [!INCLUDE[ssde_md](../../includes/ssde_md.md)] usa BULK INSERT. Se vengono stimate più di 102.400 righe, viene avviata un'istruzione BULK INSERT. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2998301).<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9349**|Disabilita la modalità batch per l'operatore Top N Sort. [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] ha introdotto un nuovo operatore Top Sort in modalità batch che migliora le prestazioni per molte query analitiche.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9358**|Disabilita la modalità batch per l'operatore Sort. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3171555).<br /><br />**Nota:** a partire da [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] questo comportamento è abilitato per impostazione predefinita e questo flag di traccia non ha alcun effetto.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9389**|Abilita la concessione di memoria dinamica aggiuntiva per gli operatori in modalità batch. Se non ottiene tutta la memoria necessaria, la query distribuisce i dati in TempDB causando I/O aggiuntivi con effetti potenziali sulle prestazioni delle query. Se il flag di traccia di concessione di memoria dinamica è abilitato, un operatore in modalità batch potrebbe richiedere memoria aggiuntiva ed evitare la distribuzione in TempDB se è disponibile ulteriore memoria. Per altre informazioni, vedere la sezione *Effetti dell'opzione min memory per query* della [Guida sull'architettura di gestione della memoria](../../relational-databases/memory-management-architecture-guide.md#effects-of-min-memory-per-query).<br /><br />**Ambito**: globale o sessione| 
|**9398**|Disabilita l'operatore [Join adattivo](../../relational-databases/performance/intelligent-query-processing.md#batch-mode-adaptive-joins) che consente di rimandare la scelta di un metodo [hash join o join a cicli annidati](../../relational-databases/performance/joins.md) a dopo che è stata eseguita la scansione del primo input, comportamento introdotto in [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)]. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4099126).<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9410**|Abilita una correzione non predefinita per una query che usa un operatore hash aggregate e le distribuzioni. L'abilitazione di questo flag di traccia aumenta la memoria disponibile per le operazioni hash separate. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3167159).<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9453**|Disabilita l'esecuzione in modalità batch. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/help/4016902).<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9471**|Fa in modo che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] generi un piano che usa la selettività minima per i filtri a tabella singola, nel modello di stima della cardinalità di Query Optimizer di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] e versioni successive.<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' anziché usare questo flag di traccia.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Nota:** questo flag di traccia non si applica a CE versione 70. In alternativa, usare il flag di traccia 4137.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)| 
|**9476**|Fa in modo che [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] generi un piano che usa l'assunzione di indipendenza semplice anziché l'assunzione predefinita di indipendenza di base, nel modello di stima della cardinalità di Query Optimizer di [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] e versioni successive. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3189675).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS' anziché usare questo flag di traccia.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)| 
|**9481**|Consente di impostare il modello di stima della cardinalità di Query Optimizer su [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e versioni precedenti, indipendentemente dal livello di compatibilità del database. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)], per eseguire questa operazione a livello di database, vedere l'opzione LEGACY_CARDINALITY_ESTIMATION in [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />A partire da [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1, per eseguire questa operazione a livello di query, aggiungere l'[hint per la query](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_LEGACY_CARDINALITY_ESTIMATION' anziché usare il flag di traccia.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|  
|**9485**|Disabilita l'autorizzazione SELECT per DBCC SHOW_STATISTICS. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/2683304).<br /><br />**Ambito**: solo globale|
|**9488**|<a name="9488"></a>Imposta il valore fisso di stima per le funzioni con valori di tabella sul valore predefinito 1 (corrispondente all'impostazione predefinita nel modello di stima della cardinalità di Query Optimizer di [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] e versioni precedenti) quando viene usato il modello di stima della cardinalità di Query Optimizer di [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e versioni successive.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|
|**9495**|Disabilita il parallelismo durante l'inserimento per le operazioni INSERT...SELECT e si applica sia alle tabelle utente che alle tabelle temporanee. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3180087).<br /><br />**Ambito**: globale o sessione| 
|**9567**|Abilita la compressione del flusso di dati per i gruppi di disponibilità Always On durante il seeding automatico. Durante il seeding automatico, la compressione può ridurre significativamente i tempi di trasferimento e aumenta il carico sul processore. Per altre informazioni, vedere [Inizializzare automaticamente un gruppo di disponibilità Always On](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) e [Ottimizzare la compressione per un gruppo di disponibilità](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Ambito**: globale o sessione|
|**9571**|Disabilita il seeding automatico di gruppi di disponibilità nel percorso del database predefinito. Per altre informazioni, vedere [Layout dei dischi](../../database-engine/availability-groups/windows/automatic-seeding-secondary-replicas.md).<br /><br />**Ambito**: globale o sessione| 
|**9576**|Disabilita la raccolta errori migliorata per i failover dei gruppi di disponibilità introdotti in [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP1 CU10, [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP2 CU2 e [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU9. Per altre informazioni, vedere [Gruppi di disponibilità di SQL Server - Failover avanzato del database](/archive/blogs/sql_server_team/sql-server-availability-groups-enhanced-database-level-failover).<br /><br />**Ambito**: solo globale| 
|**9591**|Disabilita la compressione dei blocchi di log nei gruppi di disponibilità Always On. La compressione dei blocchi di log è il comportamento predefinito usato con le repliche sincrone e asincrone in [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] e [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. In [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] la compressione viene usata solo con la replica asincrona. <br /><br />**Ambito**: globale o sessione|
|**9592**|Abilita la compressione dei flussi di log per i gruppi di disponibilità sincroni. Per impostazione predefinita, questa funzionalità è disabilitata per i gruppi di disponibilità sincroni perché la compressione aggiunge latenza. Per altre informazioni, vedere [Tune compression for availability group (Ottimizzare la compressione per il gruppo di disponibilità)](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Ambito**: globale o sessione| 
|**9929**|Riduce i file del checkpoint In memoria a 1 MB. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3147012).<br /><br />**Ambito**: solo globale|  
|**9939**|Abilita i piani paralleli e l'analisi parallela delle tabelle ottimizzate per la memoria e delle variabili di tabella nelle operazioni DML che fanno riferimento a tabelle ottimizzate per la memoria o variabili di tabella, poiché non rappresentano la destinazione dell'operazione DML in [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)]. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4013877).<br /><br />**Nota:** il flag di traccia 9939 non è necessario se il flag di traccia 4199 è abilitato anche esplicitamente.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)|   
|**9944**|Abilita una correzione non predefinita per i tempi di recupero lenti del database quando un database ha un numero elevato di tabelle con ottimizzazione per la memoria o di tipi di tabella con ottimizzazione per la memoria e si possono osservare blocchi con tipi di attesa PREMPTIVE_OS_FINDFILE o PREEMPTIVE_OS_CREATEDIRECTORY. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4090789) e questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4052338).<br /><br />**Ambito**: solo globale|  
|**10054**|Disabilita la regola di [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Query Optimizer che consente di decorrelare le sottoquery nei predicati o in outer join.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e build successive.<br /><br />**Nota:** verificare di testare questa opzione prima di distribuirla in un ambiente di produzione.<br /><br />**Ambito**: globale, sessione o query (QUERYTRACEON)| 
|**10204**|Disabilita l'unione o la ricompressione durante la riorganizzazione di indici columnstore. In [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] quando viene riorganizzato un indice columnstore, è disponibile una nuova funzionalità che consente di unire automaticamente tutti i rowgroup compressi di dimensioni ridotte in rowgroup compressi di dimensioni maggiori e di ricomprimere tutti i rowgroup con un numero elevato di righe eliminate.<br /><br />**Nota:** il flag di traccia 10204 non si applica agli indici columnstore creati in tabelle ottimizzate per la memoria.<br /><br />**Ambito**: globale o sessione|   
|**10207**|Consente alle analisi degli indici columnstore cluster (CCI) di ignorare i segmenti o i metadati danneggiati, permettendo il recupero dei dati da un indice columnstore cluster danneggiato. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/3067257).<br /><br />**Ambito**: globale o sessione| 
|**10316**|Abilita la creazione di indici aggiuntivi in una [tabella temporale di gestione temporanea ottimizzata per la memoria interna](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md), in aggiunta alla tabella predefinita. Se si usa un modello di query specifico che include colonne che non sono coperte dall'indice predefinito può essere utile aggiungere altre colonne.<br /><br />**Nota:** le tabelle temporali con controllo delle versioni di sistema per le tabelle ottimizzate per la memoria sono progettate per offrire una velocità effettiva transazionale elevata. Tenere presente che la creazione di indici aggiuntivi può comportare un sovraccarico per le operazioni DML che aggiornano o eliminano righe nella tabella corrente. Se vengono aggiunti indici, è consigliabile individuare il giusto equilibrio tra le prestazioni delle query temporali e il sovraccarico aggiuntivo delle operazioni DML.<br /><br />**Ambito**: globale o sessione|
|**11023**|Disabilita l'uso dell'ultima frequenza di campionamento persistente per tutti gli aggiornamenti delle statistiche successivi, in cui non è specificata in modo esplicito una frequenza di campionamento come parte dell'istruzione [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md). Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4039284).<br /><br />**Ambito**: solo globale|    
|**11024**|Attiva l'aggiornamento automatico delle statistiche quando il totale delle modifiche di qualsiasi partizione supera la [soglia](../../relational-databases/statistics/statistics.md#AutoUpdateStats) locale. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4041811).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP2, a [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 e alle build successive.<br /><br />**Ambito**: solo globale| 
|**11047**|Applica il timeout predefinito impostato da `query wait (s)` o dalla configurazione `REQUEST_MEMORY_GRANT_TIMEOUT_SEC` Resource Governor alle operazioni di compilazione dell'indice columnstore. Per altre informazioni, vedere questo [articolo del supporto tecnico Microsoft](https://support.microsoft.com/kb/4480641).<br /><br />**Nota:** Questo flag di traccia si applica a [!INCLUDE[ssSQL15](../../includes/sssql16-md.md)] SP2 CU5, a [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU14 e alle build successive.<br /><br />**Ambito**: solo globale| 
|**11064**|Migliora la scalabilità delle operazioni di caricamento dei dati negli indici columnstore, ottimizzando la distribuzione della memoria tra le istruzioni `SELECT` e `INSERT`. Per altre informazioni sul caricamento dei dati in un indice columnstore, vedere [Indici columnstore - Linee guida per il caricamento di dati](../../relational-databases/indexes/columnstore-indexes-data-loading-guidance.md).<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e build successive.<br /><br />**Ambito**: solo globale| 
|**11068**|Usa il valore max degree of parallelism (MAXDOP) configurato del server, del database o del pool di risorse per le operazioni di inserimento dell'indice columnstore. Per altre informazioni sulla sostituzione dei gradi di parallelismo, vedere [Guida sull'architettura di elaborazione delle query](../../relational-databases/query-processing-architecture-guide.md#overriding-degrees-of-parallelism).<br /><br />**Importante:** questo flag di traccia è valido solo se è abilitato anche il flag di traccia 11064.<br /><br />**Importante:** usare questo flag di traccia quando sono preferibili caricamenti dei dati più veloci rispetto a mantenere la qualità dei [segmenti columnstore](../../relational-databases/indexes/columnstore-indexes-overview.md#column-segment). Ad esempio, se si usa questo flag di traccia quando si caricano 1.048.577 righe in un columnstore, è possibile che venga generato più di un rowgroup compresso, se l'operazione di inserimento viene eseguita in modalità parallela. Senza questo flag di traccia, l'operazione di inserimento creerebbe un solo rowgroup compresso.<br /><br />**Nota:** questo flag di traccia si applica a [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] e build successive.<br /><br />**Ambito**: solo globale| 
  
## <a name="examples"></a>Esempi  
 L'esempio seguente imposta il flag di traccia 3205 per tutte le sessioni a livello di server usando DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

È possibile abilitare tutti gli hotfix per i piani controllati dai flag di traccia 4199 e 4137 per una determinata query.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>Vedere anche  
[Tipi di dati &#40;Transact-SQL&#41;](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE &#40;Transact-SQL&#41;](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT &#40;Transact-SQL&#41;](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT &#40;Transact-SQL&#41;](../../t-sql/statements/set-nocount-transact-sql.md)  
[Opzioni ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Hint per la query (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)
